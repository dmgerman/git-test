macro_line|#include &quot;cache.h&quot;
DECL|variable|rc
r_static
r_int
id|rc
suffix:semicolon
DECL|function|report_error
r_static
r_void
id|report_error
c_func
(paren
r_const
r_char
op_star
r_class
comma
r_int
id|ch
)paren
(brace
id|printf
c_func
(paren
l_string|&quot;%s classifies char %d (0x%02x) wrongly&bslash;n&quot;
comma
r_class
comma
id|ch
comma
id|ch
)paren
suffix:semicolon
id|rc
op_assign
l_int|1
suffix:semicolon
)brace
DECL|function|is_in
r_static
r_int
id|is_in
c_func
(paren
r_const
r_char
op_star
id|s
comma
r_int
id|ch
)paren
(brace
multiline_comment|/* We can&squot;t find NUL using strchr.  It&squot;s classless anyway. */
r_if
c_cond
(paren
id|ch
op_eq
l_char|&squot;&bslash;0&squot;
)paren
r_return
l_int|0
suffix:semicolon
r_return
op_logical_neg
op_logical_neg
id|strchr
c_func
(paren
id|s
comma
id|ch
)paren
suffix:semicolon
)brace
DECL|macro|TEST_CLASS
mdefine_line|#define TEST_CLASS(t,s) {&t;&t;&t;&bslash;&n;&t;int i;&t;&t;&t;&t;&t;&bslash;&n;&t;for (i = 0; i &lt; 256; i++) {&t;&t;&bslash;&n;&t;&t;if (is_in(s, i) != t(i))&t;&bslash;&n;&t;&t;&t;report_error(#t, i);&t;&bslash;&n;&t;}&t;&t;&t;&t;&t;&bslash;&n;}
DECL|macro|DIGIT
mdefine_line|#define DIGIT &quot;0123456789&quot;
DECL|macro|LOWER
mdefine_line|#define LOWER &quot;abcdefghijklmnopqrstuvwxyz&quot;
DECL|macro|UPPER
mdefine_line|#define UPPER &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;
DECL|function|main
r_int
id|main
c_func
(paren
r_int
id|argc
comma
r_char
op_star
op_star
id|argv
)paren
(brace
id|TEST_CLASS
c_func
(paren
id|isdigit
comma
id|DIGIT
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|isspace
comma
l_string|&quot; &bslash;n&bslash;r&bslash;t&quot;
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|isalpha
comma
id|LOWER
id|UPPER
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|isalnum
comma
id|LOWER
id|UPPER
id|DIGIT
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|is_glob_special
comma
l_string|&quot;*?[&bslash;&bslash;&quot;
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|is_regex_special
comma
l_string|&quot;$()*+.?[&bslash;&bslash;^{|&quot;
)paren
suffix:semicolon
id|TEST_CLASS
c_func
(paren
id|is_pathspec_magic
comma
l_string|&quot;!&bslash;&quot;#%&amp;&squot;,-/:;&lt;=&gt;@_`~&quot;
)paren
suffix:semicolon
r_return
id|rc
suffix:semicolon
)brace
eof
