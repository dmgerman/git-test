multiline_comment|/**&n; * Copyright 2013, GitHub, Inc&n; * Copyright 2009-2013, Daniel Lemire, Cliff Moon,&n; *&t;David McIntosh, Robert Becho, Google Inc. and Veronika Zenz&n; *&n; * This program is free software; you can redistribute it and/or&n; * modify it under the terms of the GNU General Public License&n; * as published by the Free Software Foundation; either version 2&n; * of the License, or (at your option) any later version.&n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.&n; */
macro_line|#include &quot;git-compat-util.h&quot;
macro_line|#include &quot;ewok.h&quot;
macro_line|#include &quot;ewok_rlw.h&quot;
DECL|function|min_size
r_static
r_inline
r_int
id|min_size
c_func
(paren
r_int
id|a
comma
r_int
id|b
)paren
(brace
r_return
id|a
OL
id|b
ques
c_cond
id|a
suffix:colon
id|b
suffix:semicolon
)brace
DECL|function|max_size
r_static
r_inline
r_int
id|max_size
c_func
(paren
r_int
id|a
comma
r_int
id|b
)paren
(brace
r_return
id|a
OG
id|b
ques
c_cond
id|a
suffix:colon
id|b
suffix:semicolon
)brace
DECL|function|buffer_grow
r_static
r_inline
r_void
id|buffer_grow
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_int
id|new_size
)paren
(brace
r_int
id|rlw_offset
op_assign
(paren
r_uint8
op_star
)paren
id|self-&gt;rlw
(paren
r_uint8
op_star
)paren
id|self-&gt;buffer
suffix:semicolon
r_if
c_cond
(paren
id|self-&gt;alloc_size
op_ge
id|new_size
)paren
r_return
suffix:semicolon
id|self-&gt;alloc_size
op_assign
id|new_size
suffix:semicolon
id|self-&gt;buffer
op_assign
id|ewah_realloc
c_func
(paren
id|self-&gt;buffer
comma
id|self-&gt;alloc_size
op_star
r_sizeof
(paren
id|eword_t
)paren
)paren
suffix:semicolon
id|self-&gt;rlw
op_assign
id|self-&gt;buffer
op_plus
(paren
id|rlw_offset
op_div
r_sizeof
(paren
id|eword_t
)paren
)paren
suffix:semicolon
)brace
DECL|function|buffer_push
r_static
r_inline
r_void
id|buffer_push
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
id|eword_t
id|value
)paren
(brace
r_if
c_cond
(paren
id|self-&gt;buffer_size
op_plus
l_int|1
op_ge
id|self-&gt;alloc_size
)paren
id|buffer_grow
c_func
(paren
id|self
comma
id|self-&gt;buffer_size
op_star
l_int|3
op_div
l_int|2
)paren
suffix:semicolon
id|self-&gt;buffer
(braket
id|self-&gt;buffer_size
op_increment
)braket
op_assign
id|value
suffix:semicolon
)brace
DECL|function|buffer_push_rlw
r_static
r_void
id|buffer_push_rlw
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
id|eword_t
id|value
)paren
(brace
id|buffer_push
c_func
(paren
id|self
comma
id|value
)paren
suffix:semicolon
id|self-&gt;rlw
op_assign
id|self-&gt;buffer
op_plus
id|self-&gt;buffer_size
l_int|1
suffix:semicolon
)brace
DECL|function|add_empty_words
r_static
r_int
id|add_empty_words
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_int
id|v
comma
r_int
id|number
)paren
(brace
r_int
id|added
op_assign
l_int|0
suffix:semicolon
id|eword_t
id|runlen
comma
id|can_add
suffix:semicolon
r_if
c_cond
(paren
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_ne
id|v
op_logical_and
id|rlw_size
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
(brace
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_ne
l_int|0
op_logical_or
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_ne
id|v
)paren
(brace
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v
)paren
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
id|added
op_increment
suffix:semicolon
)brace
id|runlen
op_assign
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
suffix:semicolon
id|can_add
op_assign
id|min_size
c_func
(paren
id|number
comma
id|RLW_LARGEST_RUNNING_COUNT
id|runlen
)paren
suffix:semicolon
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
id|runlen
op_plus
id|can_add
)paren
suffix:semicolon
id|number
op_sub_assign
id|can_add
suffix:semicolon
r_while
c_loop
(paren
id|number
op_ge
id|RLW_LARGEST_RUNNING_COUNT
)paren
(brace
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
id|added
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|v
)paren
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
id|RLW_LARGEST_RUNNING_COUNT
)paren
suffix:semicolon
id|number
op_sub_assign
id|RLW_LARGEST_RUNNING_COUNT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|number
OG
l_int|0
)paren
(brace
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
id|added
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|v
)paren
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
id|number
)paren
suffix:semicolon
)brace
r_return
id|added
suffix:semicolon
)brace
DECL|function|ewah_add_empty_words
r_int
id|ewah_add_empty_words
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_int
id|v
comma
r_int
id|number
)paren
(brace
r_if
c_cond
(paren
id|number
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|self-&gt;bit_size
op_add_assign
id|number
op_star
id|BITS_IN_EWORD
suffix:semicolon
r_return
id|add_empty_words
c_func
(paren
id|self
comma
id|v
comma
id|number
)paren
suffix:semicolon
)brace
DECL|function|add_literal
r_static
r_int
id|add_literal
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
id|eword_t
id|new_data
)paren
(brace
id|eword_t
id|current_num
op_assign
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
suffix:semicolon
r_if
c_cond
(paren
id|current_num
op_ge
id|RLW_LARGEST_LITERAL_COUNT
)paren
(brace
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
id|rlw_set_literal_words
c_func
(paren
id|self-&gt;rlw
comma
l_int|1
)paren
suffix:semicolon
id|buffer_push
c_func
(paren
id|self
comma
id|new_data
)paren
suffix:semicolon
r_return
l_int|2
suffix:semicolon
)brace
id|rlw_set_literal_words
c_func
(paren
id|self-&gt;rlw
comma
id|current_num
op_plus
l_int|1
)paren
suffix:semicolon
multiline_comment|/* sanity check */
m_assert
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
id|current_num
op_plus
l_int|1
)paren
suffix:semicolon
id|buffer_push
c_func
(paren
id|self
comma
id|new_data
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|ewah_add_dirty_words
r_void
id|ewah_add_dirty_words
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_const
id|eword_t
op_star
id|buffer
comma
r_int
id|number
comma
r_int
id|negate
)paren
(brace
r_int
id|literals
comma
id|can_add
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|literals
op_assign
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
suffix:semicolon
id|can_add
op_assign
id|min_size
c_func
(paren
id|number
comma
id|RLW_LARGEST_LITERAL_COUNT
id|literals
)paren
suffix:semicolon
id|rlw_set_literal_words
c_func
(paren
id|self-&gt;rlw
comma
id|literals
op_plus
id|can_add
)paren
suffix:semicolon
r_if
c_cond
(paren
id|self-&gt;buffer_size
op_plus
id|can_add
op_ge
id|self-&gt;alloc_size
)paren
id|buffer_grow
c_func
(paren
id|self
comma
(paren
id|self-&gt;buffer_size
op_plus
id|can_add
)paren
op_star
l_int|3
op_div
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|negate
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|can_add
suffix:semicolon
op_increment
id|i
)paren
id|self-&gt;buffer
(braket
id|self-&gt;buffer_size
op_increment
)braket
op_assign
op_complement
id|buffer
(braket
id|i
)braket
suffix:semicolon
)brace
r_else
(brace
id|memcpy
c_func
(paren
id|self-&gt;buffer
op_plus
id|self-&gt;buffer_size
comma
id|buffer
comma
id|can_add
op_star
r_sizeof
(paren
id|eword_t
)paren
)paren
suffix:semicolon
id|self-&gt;buffer_size
op_add_assign
id|can_add
suffix:semicolon
)brace
id|self-&gt;bit_size
op_add_assign
id|can_add
op_star
id|BITS_IN_EWORD
suffix:semicolon
r_if
c_cond
(paren
id|number
id|can_add
op_eq
l_int|0
)paren
r_break
suffix:semicolon
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
id|buffer
op_add_assign
id|can_add
suffix:semicolon
id|number
op_sub_assign
id|can_add
suffix:semicolon
)brace
)brace
DECL|function|add_empty_word
r_static
r_int
id|add_empty_word
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_int
id|v
)paren
(brace
r_int
id|no_literal
op_assign
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
suffix:semicolon
id|eword_t
id|run_len
op_assign
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
suffix:semicolon
r_if
c_cond
(paren
id|no_literal
op_logical_and
id|run_len
op_eq
l_int|0
)paren
(brace
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
id|v
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|no_literal
op_logical_and
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
id|v
op_logical_and
id|run_len
OL
id|RLW_LARGEST_RUNNING_COUNT
)paren
(brace
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
id|run_len
op_plus
l_int|1
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
id|run_len
op_plus
l_int|1
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_else
(brace
id|buffer_push_rlw
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
suffix:semicolon
id|rlw_set_run_bit
c_func
(paren
id|self-&gt;rlw
comma
id|v
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_run_bit
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
id|v
)paren
suffix:semicolon
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
l_int|1
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|1
)paren
suffix:semicolon
m_assert
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
)brace
DECL|function|ewah_add
r_int
id|ewah_add
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
id|eword_t
id|word
)paren
(brace
id|self-&gt;bit_size
op_add_assign
id|BITS_IN_EWORD
suffix:semicolon
r_if
c_cond
(paren
id|word
op_eq
l_int|0
)paren
r_return
id|add_empty_word
c_func
(paren
id|self
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|word
op_eq
(paren
id|eword_t
)paren
(paren
op_complement
l_int|0
)paren
)paren
r_return
id|add_empty_word
c_func
(paren
id|self
comma
l_int|1
)paren
suffix:semicolon
r_return
id|add_literal
c_func
(paren
id|self
comma
id|word
)paren
suffix:semicolon
)brace
DECL|function|ewah_set
r_void
id|ewah_set
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_int
id|i
)paren
(brace
r_const
r_int
id|dist
op_assign
(paren
id|i
op_plus
id|BITS_IN_EWORD
)paren
op_div
id|BITS_IN_EWORD
(paren
id|self-&gt;bit_size
op_plus
id|BITS_IN_EWORD
l_int|1
)paren
op_div
id|BITS_IN_EWORD
suffix:semicolon
m_assert
(paren
id|i
op_ge
id|self-&gt;bit_size
)paren
suffix:semicolon
id|self-&gt;bit_size
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|dist
OG
l_int|0
)paren
(brace
r_if
c_cond
(paren
id|dist
OG
l_int|1
)paren
id|add_empty_words
c_func
(paren
id|self
comma
l_int|0
comma
id|dist
l_int|1
)paren
suffix:semicolon
id|add_literal
c_func
(paren
id|self
comma
(paren
id|eword_t
)paren
l_int|1
op_lshift
(paren
id|i
op_mod
id|BITS_IN_EWORD
)paren
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
op_eq
l_int|0
)paren
(brace
id|rlw_set_running_len
c_func
(paren
id|self-&gt;rlw
comma
id|rlw_get_running_len
c_func
(paren
id|self-&gt;rlw
)paren
l_int|1
)paren
suffix:semicolon
id|add_literal
c_func
(paren
id|self
comma
(paren
id|eword_t
)paren
l_int|1
op_lshift
(paren
id|i
op_mod
id|BITS_IN_EWORD
)paren
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|self-&gt;buffer
(braket
id|self-&gt;buffer_size
l_int|1
)braket
op_or_assign
(paren
(paren
id|eword_t
)paren
l_int|1
op_lshift
(paren
id|i
op_mod
id|BITS_IN_EWORD
)paren
)paren
suffix:semicolon
multiline_comment|/* check if we just completed a stream of 1s */
r_if
c_cond
(paren
id|self-&gt;buffer
(braket
id|self-&gt;buffer_size
l_int|1
)braket
op_eq
(paren
id|eword_t
)paren
(paren
op_complement
l_int|0
)paren
)paren
(brace
id|self-&gt;buffer
(braket
op_decrement
id|self-&gt;buffer_size
)braket
op_assign
l_int|0
suffix:semicolon
id|rlw_set_literal_words
c_func
(paren
id|self-&gt;rlw
comma
id|rlw_get_literal_words
c_func
(paren
id|self-&gt;rlw
)paren
l_int|1
)paren
suffix:semicolon
id|add_empty_word
c_func
(paren
id|self
comma
l_int|1
)paren
suffix:semicolon
)brace
)brace
DECL|function|ewah_each_bit
r_void
id|ewah_each_bit
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
comma
r_void
(paren
op_star
id|callback
)paren
(paren
r_int
comma
r_void
op_star
)paren
comma
r_void
op_star
id|payload
)paren
(brace
r_int
id|pos
op_assign
l_int|0
suffix:semicolon
r_int
id|pointer
op_assign
l_int|0
suffix:semicolon
r_int
id|k
suffix:semicolon
r_while
c_loop
(paren
id|pointer
OL
id|self-&gt;buffer_size
)paren
(brace
id|eword_t
op_star
id|word
op_assign
op_amp
id|self-&gt;buffer
(braket
id|pointer
)braket
suffix:semicolon
r_if
c_cond
(paren
id|rlw_get_run_bit
c_func
(paren
id|word
)paren
)paren
(brace
r_int
id|len
op_assign
id|rlw_get_running_len
c_func
(paren
id|word
)paren
op_star
id|BITS_IN_EWORD
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|len
suffix:semicolon
op_increment
id|k
comma
op_increment
id|pos
)paren
id|callback
c_func
(paren
id|pos
comma
id|payload
)paren
suffix:semicolon
)brace
r_else
(brace
id|pos
op_add_assign
id|rlw_get_running_len
c_func
(paren
id|word
)paren
op_star
id|BITS_IN_EWORD
suffix:semicolon
)brace
op_increment
id|pointer
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|rlw_get_literal_words
c_func
(paren
id|word
)paren
suffix:semicolon
op_increment
id|k
)paren
(brace
r_int
id|c
suffix:semicolon
multiline_comment|/* todo: zero count optimization */
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|BITS_IN_EWORD
suffix:semicolon
op_increment
id|c
comma
op_increment
id|pos
)paren
(brace
r_if
c_cond
(paren
(paren
id|self-&gt;buffer
(braket
id|pointer
)braket
op_amp
(paren
(paren
id|eword_t
)paren
l_int|1
op_lshift
id|c
)paren
)paren
op_ne
l_int|0
)paren
id|callback
c_func
(paren
id|pos
comma
id|payload
)paren
suffix:semicolon
)brace
op_increment
id|pointer
suffix:semicolon
)brace
)brace
)brace
DECL|function|ewah_new
r_struct
id|ewah_bitmap
op_star
id|ewah_new
c_func
(paren
r_void
)paren
(brace
r_struct
id|ewah_bitmap
op_star
id|self
suffix:semicolon
id|self
op_assign
id|ewah_malloc
c_func
(paren
r_sizeof
(paren
r_struct
id|ewah_bitmap
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|self
op_eq
l_int|NULL
)paren
r_return
l_int|NULL
suffix:semicolon
id|self-&gt;buffer
op_assign
id|ewah_malloc
c_func
(paren
l_int|32
op_star
r_sizeof
(paren
id|eword_t
)paren
)paren
suffix:semicolon
id|self-&gt;alloc_size
op_assign
l_int|32
suffix:semicolon
id|ewah_clear
c_func
(paren
id|self
)paren
suffix:semicolon
r_return
id|self
suffix:semicolon
)brace
DECL|function|ewah_clear
r_void
id|ewah_clear
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
)paren
(brace
id|self-&gt;buffer_size
op_assign
l_int|1
suffix:semicolon
id|self-&gt;buffer
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|self-&gt;bit_size
op_assign
l_int|0
suffix:semicolon
id|self-&gt;rlw
op_assign
id|self-&gt;buffer
suffix:semicolon
)brace
DECL|function|ewah_free
r_void
id|ewah_free
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|self
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|self-&gt;alloc_size
)paren
id|free
c_func
(paren
id|self-&gt;buffer
)paren
suffix:semicolon
id|free
c_func
(paren
id|self
)paren
suffix:semicolon
)brace
DECL|function|read_new_rlw
r_static
r_void
id|read_new_rlw
c_func
(paren
r_struct
id|ewah_iterator
op_star
id|it
)paren
(brace
r_const
id|eword_t
op_star
id|word
op_assign
l_int|NULL
suffix:semicolon
id|it-&gt;literals
op_assign
l_int|0
suffix:semicolon
id|it-&gt;compressed
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
l_int|1
)paren
(brace
id|word
op_assign
op_amp
id|it-&gt;buffer
(braket
id|it-&gt;pointer
)braket
suffix:semicolon
id|it-&gt;rl
op_assign
id|rlw_get_running_len
c_func
(paren
id|word
)paren
suffix:semicolon
id|it-&gt;lw
op_assign
id|rlw_get_literal_words
c_func
(paren
id|word
)paren
suffix:semicolon
id|it-&gt;b
op_assign
id|rlw_get_run_bit
c_func
(paren
id|word
)paren
suffix:semicolon
r_if
c_cond
(paren
id|it-&gt;rl
op_logical_or
id|it-&gt;lw
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|it-&gt;pointer
OL
id|it-&gt;buffer_size
l_int|1
)paren
(brace
id|it-&gt;pointer
op_increment
suffix:semicolon
)brace
r_else
(brace
id|it-&gt;pointer
op_assign
id|it-&gt;buffer_size
suffix:semicolon
r_return
suffix:semicolon
)brace
)brace
)brace
DECL|function|ewah_iterator_next
r_int
id|ewah_iterator_next
c_func
(paren
id|eword_t
op_star
id|next
comma
r_struct
id|ewah_iterator
op_star
id|it
)paren
(brace
r_if
c_cond
(paren
id|it-&gt;pointer
op_ge
id|it-&gt;buffer_size
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|it-&gt;compressed
OL
id|it-&gt;rl
)paren
(brace
id|it-&gt;compressed
op_increment
suffix:semicolon
op_star
id|next
op_assign
id|it-&gt;b
ques
c_cond
(paren
id|eword_t
)paren
(paren
op_complement
l_int|0
)paren
suffix:colon
l_int|0
suffix:semicolon
)brace
r_else
(brace
m_assert
(paren
id|it-&gt;literals
OL
id|it-&gt;lw
)paren
suffix:semicolon
id|it-&gt;literals
op_increment
suffix:semicolon
id|it-&gt;pointer
op_increment
suffix:semicolon
m_assert
(paren
id|it-&gt;pointer
OL
id|it-&gt;buffer_size
)paren
suffix:semicolon
op_star
id|next
op_assign
id|it-&gt;buffer
(braket
id|it-&gt;pointer
)braket
suffix:semicolon
)brace
r_if
c_cond
(paren
id|it-&gt;compressed
op_eq
id|it-&gt;rl
op_logical_and
id|it-&gt;literals
op_eq
id|it-&gt;lw
)paren
(brace
r_if
c_cond
(paren
op_increment
id|it-&gt;pointer
OL
id|it-&gt;buffer_size
)paren
id|read_new_rlw
c_func
(paren
id|it
)paren
suffix:semicolon
)brace
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|ewah_iterator_init
r_void
id|ewah_iterator_init
c_func
(paren
r_struct
id|ewah_iterator
op_star
id|it
comma
r_struct
id|ewah_bitmap
op_star
id|parent
)paren
(brace
id|it-&gt;buffer
op_assign
id|parent-&gt;buffer
suffix:semicolon
id|it-&gt;buffer_size
op_assign
id|parent-&gt;buffer_size
suffix:semicolon
id|it-&gt;pointer
op_assign
l_int|0
suffix:semicolon
id|it-&gt;lw
op_assign
l_int|0
suffix:semicolon
id|it-&gt;rl
op_assign
l_int|0
suffix:semicolon
id|it-&gt;compressed
op_assign
l_int|0
suffix:semicolon
id|it-&gt;literals
op_assign
l_int|0
suffix:semicolon
id|it-&gt;b
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|it-&gt;pointer
OL
id|it-&gt;buffer_size
)paren
id|read_new_rlw
c_func
(paren
id|it
)paren
suffix:semicolon
)brace
DECL|function|ewah_not
r_void
id|ewah_not
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
)paren
(brace
r_int
id|pointer
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|pointer
OL
id|self-&gt;buffer_size
)paren
(brace
id|eword_t
op_star
id|word
op_assign
op_amp
id|self-&gt;buffer
(braket
id|pointer
)braket
suffix:semicolon
r_int
id|literals
comma
id|k
suffix:semicolon
id|rlw_xor_run_bit
c_func
(paren
id|word
)paren
suffix:semicolon
op_increment
id|pointer
suffix:semicolon
id|literals
op_assign
id|rlw_get_literal_words
c_func
(paren
id|word
)paren
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|literals
suffix:semicolon
op_increment
id|k
)paren
(brace
id|self-&gt;buffer
(braket
id|pointer
)braket
op_assign
op_complement
id|self-&gt;buffer
(braket
id|pointer
)braket
suffix:semicolon
op_increment
id|pointer
suffix:semicolon
)brace
)brace
)brace
DECL|function|ewah_xor
r_void
id|ewah_xor
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|ewah_i
comma
r_struct
id|ewah_bitmap
op_star
id|ewah_j
comma
r_struct
id|ewah_bitmap
op_star
id|out
)paren
(brace
r_struct
id|rlw_iterator
id|rlw_i
suffix:semicolon
r_struct
id|rlw_iterator
id|rlw_j
suffix:semicolon
r_int
id|literals
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_i
comma
id|ewah_i
)paren
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_j
comma
id|ewah_j
)paren
suffix:semicolon
r_while
c_loop
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
op_logical_and
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_j
)paren
OG
l_int|0
)paren
(brace
r_while
c_loop
(paren
id|rlw_i.rlw.running_len
OG
l_int|0
op_logical_or
id|rlw_j.rlw.running_len
OG
l_int|0
)paren
(brace
r_struct
id|rlw_iterator
op_star
id|prey
comma
op_star
id|predator
suffix:semicolon
r_int
id|index
suffix:semicolon
r_int
id|negate_words
suffix:semicolon
r_if
c_cond
(paren
id|rlw_i.rlw.running_len
OL
id|rlw_j.rlw.running_len
)paren
(brace
id|prey
op_assign
op_amp
id|rlw_i
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_j
suffix:semicolon
)brace
r_else
(brace
id|prey
op_assign
op_amp
id|rlw_j
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_i
suffix:semicolon
)brace
id|negate_words
op_assign
op_logical_neg
op_logical_neg
id|predator-&gt;rlw.running_bit
suffix:semicolon
id|index
op_assign
id|rlwit_discharge
c_func
(paren
id|prey
comma
id|out
comma
id|predator-&gt;rlw.running_len
comma
id|negate_words
)paren
suffix:semicolon
id|ewah_add_empty_words
c_func
(paren
id|out
comma
id|negate_words
comma
id|predator-&gt;rlw.running_len
id|index
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
id|literals
op_assign
id|min_size
c_func
(paren
id|rlw_i.rlw.literal_words
comma
id|rlw_j.rlw.literal_words
)paren
suffix:semicolon
r_if
c_cond
(paren
id|literals
)paren
(brace
r_int
id|k
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|literals
suffix:semicolon
op_increment
id|k
)paren
(brace
id|ewah_add
c_func
(paren
id|out
comma
id|rlw_i.buffer
(braket
id|rlw_i.literal_word_start
op_plus
id|k
)braket
op_xor
id|rlw_j.buffer
(braket
id|rlw_j.literal_word_start
op_plus
id|k
)braket
)paren
suffix:semicolon
)brace
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_i
comma
id|literals
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_j
comma
id|literals
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
)paren
id|rlwit_discharge
c_func
(paren
op_amp
id|rlw_i
comma
id|out
comma
op_complement
l_int|0
comma
l_int|0
)paren
suffix:semicolon
r_else
id|rlwit_discharge
c_func
(paren
op_amp
id|rlw_j
comma
id|out
comma
op_complement
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|out-&gt;bit_size
op_assign
id|max_size
c_func
(paren
id|ewah_i-&gt;bit_size
comma
id|ewah_j-&gt;bit_size
)paren
suffix:semicolon
)brace
DECL|function|ewah_and
r_void
id|ewah_and
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|ewah_i
comma
r_struct
id|ewah_bitmap
op_star
id|ewah_j
comma
r_struct
id|ewah_bitmap
op_star
id|out
)paren
(brace
r_struct
id|rlw_iterator
id|rlw_i
suffix:semicolon
r_struct
id|rlw_iterator
id|rlw_j
suffix:semicolon
r_int
id|literals
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_i
comma
id|ewah_i
)paren
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_j
comma
id|ewah_j
)paren
suffix:semicolon
r_while
c_loop
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
op_logical_and
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_j
)paren
OG
l_int|0
)paren
(brace
r_while
c_loop
(paren
id|rlw_i.rlw.running_len
OG
l_int|0
op_logical_or
id|rlw_j.rlw.running_len
OG
l_int|0
)paren
(brace
r_struct
id|rlw_iterator
op_star
id|prey
comma
op_star
id|predator
suffix:semicolon
r_if
c_cond
(paren
id|rlw_i.rlw.running_len
OL
id|rlw_j.rlw.running_len
)paren
(brace
id|prey
op_assign
op_amp
id|rlw_i
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_j
suffix:semicolon
)brace
r_else
(brace
id|prey
op_assign
op_amp
id|rlw_j
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_i
suffix:semicolon
)brace
r_if
c_cond
(paren
id|predator-&gt;rlw.running_bit
op_eq
l_int|0
)paren
(brace
id|ewah_add_empty_words
c_func
(paren
id|out
comma
l_int|0
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|prey
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
r_else
(brace
r_int
id|index
op_assign
id|rlwit_discharge
c_func
(paren
id|prey
comma
id|out
comma
id|predator-&gt;rlw.running_len
comma
l_int|0
)paren
suffix:semicolon
id|ewah_add_empty_words
c_func
(paren
id|out
comma
l_int|0
comma
id|predator-&gt;rlw.running_len
id|index
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
)brace
id|literals
op_assign
id|min_size
c_func
(paren
id|rlw_i.rlw.literal_words
comma
id|rlw_j.rlw.literal_words
)paren
suffix:semicolon
r_if
c_cond
(paren
id|literals
)paren
(brace
r_int
id|k
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|literals
suffix:semicolon
op_increment
id|k
)paren
(brace
id|ewah_add
c_func
(paren
id|out
comma
id|rlw_i.buffer
(braket
id|rlw_i.literal_word_start
op_plus
id|k
)braket
op_amp
id|rlw_j.buffer
(braket
id|rlw_j.literal_word_start
op_plus
id|k
)braket
)paren
suffix:semicolon
)brace
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_i
comma
id|literals
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_j
comma
id|literals
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
)paren
id|rlwit_discharge_empty
c_func
(paren
op_amp
id|rlw_i
comma
id|out
)paren
suffix:semicolon
r_else
id|rlwit_discharge_empty
c_func
(paren
op_amp
id|rlw_j
comma
id|out
)paren
suffix:semicolon
id|out-&gt;bit_size
op_assign
id|max_size
c_func
(paren
id|ewah_i-&gt;bit_size
comma
id|ewah_j-&gt;bit_size
)paren
suffix:semicolon
)brace
DECL|function|ewah_and_not
r_void
id|ewah_and_not
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|ewah_i
comma
r_struct
id|ewah_bitmap
op_star
id|ewah_j
comma
r_struct
id|ewah_bitmap
op_star
id|out
)paren
(brace
r_struct
id|rlw_iterator
id|rlw_i
suffix:semicolon
r_struct
id|rlw_iterator
id|rlw_j
suffix:semicolon
r_int
id|literals
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_i
comma
id|ewah_i
)paren
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_j
comma
id|ewah_j
)paren
suffix:semicolon
r_while
c_loop
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
op_logical_and
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_j
)paren
OG
l_int|0
)paren
(brace
r_while
c_loop
(paren
id|rlw_i.rlw.running_len
OG
l_int|0
op_logical_or
id|rlw_j.rlw.running_len
OG
l_int|0
)paren
(brace
r_struct
id|rlw_iterator
op_star
id|prey
comma
op_star
id|predator
suffix:semicolon
r_if
c_cond
(paren
id|rlw_i.rlw.running_len
OL
id|rlw_j.rlw.running_len
)paren
(brace
id|prey
op_assign
op_amp
id|rlw_i
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_j
suffix:semicolon
)brace
r_else
(brace
id|prey
op_assign
op_amp
id|rlw_j
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_i
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|predator-&gt;rlw.running_bit
op_logical_and
id|prey
op_eq
op_amp
id|rlw_i
)paren
op_logical_or
(paren
op_logical_neg
id|predator-&gt;rlw.running_bit
op_logical_and
id|prey
op_ne
op_amp
id|rlw_i
)paren
)paren
(brace
id|ewah_add_empty_words
c_func
(paren
id|out
comma
l_int|0
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|prey
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
r_else
(brace
r_int
id|index
suffix:semicolon
r_int
id|negate_words
suffix:semicolon
id|negate_words
op_assign
(paren
op_amp
id|rlw_i
op_ne
id|prey
)paren
suffix:semicolon
id|index
op_assign
id|rlwit_discharge
c_func
(paren
id|prey
comma
id|out
comma
id|predator-&gt;rlw.running_len
comma
id|negate_words
)paren
suffix:semicolon
id|ewah_add_empty_words
c_func
(paren
id|out
comma
id|negate_words
comma
id|predator-&gt;rlw.running_len
id|index
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
)brace
id|literals
op_assign
id|min_size
c_func
(paren
id|rlw_i.rlw.literal_words
comma
id|rlw_j.rlw.literal_words
)paren
suffix:semicolon
r_if
c_cond
(paren
id|literals
)paren
(brace
r_int
id|k
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|literals
suffix:semicolon
op_increment
id|k
)paren
(brace
id|ewah_add
c_func
(paren
id|out
comma
id|rlw_i.buffer
(braket
id|rlw_i.literal_word_start
op_plus
id|k
)braket
op_amp
op_complement
(paren
id|rlw_j.buffer
(braket
id|rlw_j.literal_word_start
op_plus
id|k
)braket
)paren
)paren
suffix:semicolon
)brace
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_i
comma
id|literals
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_j
comma
id|literals
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
)paren
id|rlwit_discharge
c_func
(paren
op_amp
id|rlw_i
comma
id|out
comma
op_complement
l_int|0
comma
l_int|0
)paren
suffix:semicolon
r_else
id|rlwit_discharge_empty
c_func
(paren
op_amp
id|rlw_j
comma
id|out
)paren
suffix:semicolon
id|out-&gt;bit_size
op_assign
id|max_size
c_func
(paren
id|ewah_i-&gt;bit_size
comma
id|ewah_j-&gt;bit_size
)paren
suffix:semicolon
)brace
DECL|function|ewah_or
r_void
id|ewah_or
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|ewah_i
comma
r_struct
id|ewah_bitmap
op_star
id|ewah_j
comma
r_struct
id|ewah_bitmap
op_star
id|out
)paren
(brace
r_struct
id|rlw_iterator
id|rlw_i
suffix:semicolon
r_struct
id|rlw_iterator
id|rlw_j
suffix:semicolon
r_int
id|literals
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_i
comma
id|ewah_i
)paren
suffix:semicolon
id|rlwit_init
c_func
(paren
op_amp
id|rlw_j
comma
id|ewah_j
)paren
suffix:semicolon
r_while
c_loop
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
op_logical_and
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_j
)paren
OG
l_int|0
)paren
(brace
r_while
c_loop
(paren
id|rlw_i.rlw.running_len
OG
l_int|0
op_logical_or
id|rlw_j.rlw.running_len
OG
l_int|0
)paren
(brace
r_struct
id|rlw_iterator
op_star
id|prey
comma
op_star
id|predator
suffix:semicolon
r_if
c_cond
(paren
id|rlw_i.rlw.running_len
OL
id|rlw_j.rlw.running_len
)paren
(brace
id|prey
op_assign
op_amp
id|rlw_i
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_j
suffix:semicolon
)brace
r_else
(brace
id|prey
op_assign
op_amp
id|rlw_j
suffix:semicolon
id|predator
op_assign
op_amp
id|rlw_i
suffix:semicolon
)brace
r_if
c_cond
(paren
id|predator-&gt;rlw.running_bit
)paren
(brace
id|ewah_add_empty_words
c_func
(paren
id|out
comma
l_int|0
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|prey
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
r_else
(brace
r_int
id|index
op_assign
id|rlwit_discharge
c_func
(paren
id|prey
comma
id|out
comma
id|predator-&gt;rlw.running_len
comma
l_int|0
)paren
suffix:semicolon
id|ewah_add_empty_words
c_func
(paren
id|out
comma
l_int|0
comma
id|predator-&gt;rlw.running_len
id|index
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
id|predator
comma
id|predator-&gt;rlw.running_len
)paren
suffix:semicolon
)brace
)brace
id|literals
op_assign
id|min_size
c_func
(paren
id|rlw_i.rlw.literal_words
comma
id|rlw_j.rlw.literal_words
)paren
suffix:semicolon
r_if
c_cond
(paren
id|literals
)paren
(brace
r_int
id|k
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|literals
suffix:semicolon
op_increment
id|k
)paren
(brace
id|ewah_add
c_func
(paren
id|out
comma
id|rlw_i.buffer
(braket
id|rlw_i.literal_word_start
op_plus
id|k
)braket
op_or
id|rlw_j.buffer
(braket
id|rlw_j.literal_word_start
op_plus
id|k
)braket
)paren
suffix:semicolon
)brace
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_i
comma
id|literals
)paren
suffix:semicolon
id|rlwit_discard_first_words
c_func
(paren
op_amp
id|rlw_j
comma
id|literals
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|rlwit_word_size
c_func
(paren
op_amp
id|rlw_i
)paren
OG
l_int|0
)paren
id|rlwit_discharge
c_func
(paren
op_amp
id|rlw_i
comma
id|out
comma
op_complement
l_int|0
comma
l_int|0
)paren
suffix:semicolon
r_else
id|rlwit_discharge
c_func
(paren
op_amp
id|rlw_j
comma
id|out
comma
op_complement
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|out-&gt;bit_size
op_assign
id|max_size
c_func
(paren
id|ewah_i-&gt;bit_size
comma
id|ewah_j-&gt;bit_size
)paren
suffix:semicolon
)brace
DECL|macro|BITMAP_POOL_MAX
mdefine_line|#define BITMAP_POOL_MAX 16
DECL|variable|bitmap_pool
r_static
r_struct
id|ewah_bitmap
op_star
id|bitmap_pool
(braket
id|BITMAP_POOL_MAX
)braket
suffix:semicolon
DECL|variable|bitmap_pool_size
r_static
r_int
id|bitmap_pool_size
suffix:semicolon
DECL|function|ewah_pool_new
r_struct
id|ewah_bitmap
op_star
id|ewah_pool_new
c_func
(paren
r_void
)paren
(brace
r_if
c_cond
(paren
id|bitmap_pool_size
)paren
r_return
id|bitmap_pool
(braket
op_decrement
id|bitmap_pool_size
)braket
suffix:semicolon
r_return
id|ewah_new
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|ewah_pool_free
r_void
id|ewah_pool_free
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
)paren
(brace
r_if
c_cond
(paren
id|self
op_eq
l_int|NULL
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|bitmap_pool_size
op_eq
id|BITMAP_POOL_MAX
op_logical_or
id|self-&gt;alloc_size
op_eq
l_int|0
)paren
(brace
id|ewah_free
c_func
(paren
id|self
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|ewah_clear
c_func
(paren
id|self
)paren
suffix:semicolon
id|bitmap_pool
(braket
id|bitmap_pool_size
op_increment
)braket
op_assign
id|self
suffix:semicolon
)brace
DECL|function|ewah_checksum
r_uint32
id|ewah_checksum
c_func
(paren
r_struct
id|ewah_bitmap
op_star
id|self
)paren
(brace
r_const
r_uint8
op_star
id|p
op_assign
(paren
r_uint8
op_star
)paren
id|self-&gt;buffer
suffix:semicolon
r_uint32
id|crc
op_assign
(paren
r_uint32
)paren
id|self-&gt;bit_size
suffix:semicolon
r_int
id|size
op_assign
id|self-&gt;buffer_size
op_star
r_sizeof
(paren
id|eword_t
)paren
suffix:semicolon
r_while
c_loop
(paren
id|size
op_decrement
)paren
id|crc
op_assign
(paren
id|crc
op_lshift
l_int|5
)paren
id|crc
op_plus
(paren
r_uint32
)paren
op_star
id|p
op_increment
suffix:semicolon
r_return
id|crc
suffix:semicolon
)brace
eof
