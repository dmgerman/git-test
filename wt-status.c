macro_line|#include &quot;cache.h&quot;
macro_line|#include &quot;pathspec.h&quot;
macro_line|#include &quot;wt-status.h&quot;
macro_line|#include &quot;object.h&quot;
macro_line|#include &quot;dir.h&quot;
macro_line|#include &quot;commit.h&quot;
macro_line|#include &quot;diff.h&quot;
macro_line|#include &quot;revision.h&quot;
macro_line|#include &quot;diffcore.h&quot;
macro_line|#include &quot;quote.h&quot;
macro_line|#include &quot;run-command.h&quot;
macro_line|#include &quot;argv-array.h&quot;
macro_line|#include &quot;remote.h&quot;
macro_line|#include &quot;refs.h&quot;
macro_line|#include &quot;submodule.h&quot;
macro_line|#include &quot;column.h&quot;
macro_line|#include &quot;strbuf.h&quot;
macro_line|#include &quot;utf8.h&quot;
DECL|variable|cut_line
r_static
r_const
r_char
id|cut_line
(braket
)braket
op_assign
l_string|&quot;------------------------ &gt;8 ------------------------&bslash;n&quot;
suffix:semicolon
DECL|variable|default_wt_status_colors
r_static
r_char
id|default_wt_status_colors
(braket
)braket
(braket
id|COLOR_MAXLEN
)braket
op_assign
(brace
id|GIT_COLOR_NORMAL
comma
multiline_comment|/* WT_STATUS_HEADER */
id|GIT_COLOR_GREEN
comma
multiline_comment|/* WT_STATUS_UPDATED */
id|GIT_COLOR_RED
comma
multiline_comment|/* WT_STATUS_CHANGED */
id|GIT_COLOR_RED
comma
multiline_comment|/* WT_STATUS_UNTRACKED */
id|GIT_COLOR_RED
comma
multiline_comment|/* WT_STATUS_NOBRANCH */
id|GIT_COLOR_RED
comma
multiline_comment|/* WT_STATUS_UNMERGED */
id|GIT_COLOR_GREEN
comma
multiline_comment|/* WT_STATUS_LOCAL_BRANCH */
id|GIT_COLOR_RED
comma
multiline_comment|/* WT_STATUS_REMOTE_BRANCH */
id|GIT_COLOR_NIL
comma
multiline_comment|/* WT_STATUS_ONBRANCH */
)brace
suffix:semicolon
DECL|function|color
r_static
r_const
r_char
op_star
id|color
c_func
(paren
r_int
id|slot
comma
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_const
r_char
op_star
id|c
op_assign
l_string|&quot;&quot;
suffix:semicolon
r_if
c_cond
(paren
id|want_color
c_func
(paren
id|s-&gt;use_color
)paren
)paren
id|c
op_assign
id|s-&gt;color_palette
(braket
id|slot
)braket
suffix:semicolon
r_if
c_cond
(paren
id|slot
op_eq
id|WT_STATUS_ONBRANCH
op_logical_and
id|color_is_nil
c_func
(paren
id|c
)paren
)paren
id|c
op_assign
id|s-&gt;color_palette
(braket
id|WT_STATUS_HEADER
)braket
suffix:semicolon
r_return
id|c
suffix:semicolon
)brace
DECL|function|status_vprintf
r_static
r_void
id|status_vprintf
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_int
id|at_bol
comma
r_const
r_char
op_star
id|color
comma
r_const
r_char
op_star
id|fmt
comma
id|va_list
id|ap
comma
r_const
r_char
op_star
id|trail
)paren
(brace
r_struct
id|strbuf
id|sb
op_assign
id|STRBUF_INIT
suffix:semicolon
r_struct
id|strbuf
id|linebuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_const
r_char
op_star
id|line
comma
op_star
id|eol
suffix:semicolon
id|strbuf_vaddf
c_func
(paren
op_amp
id|sb
comma
id|fmt
comma
id|ap
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|sb.len
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;display_comment_prefix
)paren
(brace
id|strbuf_addch
c_func
(paren
op_amp
id|sb
comma
id|comment_line_char
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|trail
)paren
id|strbuf_addch
c_func
(paren
op_amp
id|sb
comma
l_char|&squot; &squot;
)paren
suffix:semicolon
)brace
id|color_print_strbuf
c_func
(paren
id|s-&gt;fp
comma
id|color
comma
op_amp
id|sb
)paren
suffix:semicolon
r_if
c_cond
(paren
id|trail
)paren
id|fprintf
c_func
(paren
id|s-&gt;fp
comma
l_string|&quot;%s&quot;
comma
id|trail
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|sb
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_for
c_loop
(paren
id|line
op_assign
id|sb.buf
suffix:semicolon
op_star
id|line
suffix:semicolon
id|line
op_assign
id|eol
op_plus
l_int|1
)paren
(brace
id|eol
op_assign
id|strchr
c_func
(paren
id|line
comma
l_char|&squot;&bslash;n&squot;
)paren
suffix:semicolon
id|strbuf_reset
c_func
(paren
op_amp
id|linebuf
)paren
suffix:semicolon
r_if
c_cond
(paren
id|at_bol
op_logical_and
id|s-&gt;display_comment_prefix
)paren
(brace
id|strbuf_addch
c_func
(paren
op_amp
id|linebuf
comma
id|comment_line_char
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|line
op_ne
l_char|&squot;&bslash;n&squot;
op_logical_and
op_star
id|line
op_ne
l_char|&squot;&bslash;t&squot;
)paren
id|strbuf_addch
c_func
(paren
op_amp
id|linebuf
comma
l_char|&squot; &squot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|eol
)paren
id|strbuf_add
c_func
(paren
op_amp
id|linebuf
comma
id|line
comma
id|eol
id|line
)paren
suffix:semicolon
r_else
id|strbuf_addstr
c_func
(paren
op_amp
id|linebuf
comma
id|line
)paren
suffix:semicolon
id|color_print_strbuf
c_func
(paren
id|s-&gt;fp
comma
id|color
comma
op_amp
id|linebuf
)paren
suffix:semicolon
r_if
c_cond
(paren
id|eol
)paren
id|fprintf
c_func
(paren
id|s-&gt;fp
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
r_else
r_break
suffix:semicolon
id|at_bol
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|trail
)paren
id|fprintf
c_func
(paren
id|s-&gt;fp
comma
l_string|&quot;%s&quot;
comma
id|trail
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|linebuf
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|sb
)paren
suffix:semicolon
)brace
DECL|function|status_printf_ln
r_void
id|status_printf_ln
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_const
r_char
op_star
id|color
comma
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|ap
suffix:semicolon
id|va_start
c_func
(paren
id|ap
comma
id|fmt
)paren
suffix:semicolon
id|status_vprintf
c_func
(paren
id|s
comma
l_int|1
comma
id|color
comma
id|fmt
comma
id|ap
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|ap
)paren
suffix:semicolon
)brace
DECL|function|status_printf
r_void
id|status_printf
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_const
r_char
op_star
id|color
comma
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|ap
suffix:semicolon
id|va_start
c_func
(paren
id|ap
comma
id|fmt
)paren
suffix:semicolon
id|status_vprintf
c_func
(paren
id|s
comma
l_int|1
comma
id|color
comma
id|fmt
comma
id|ap
comma
l_int|NULL
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|ap
)paren
suffix:semicolon
)brace
DECL|function|status_printf_more
r_static
r_void
id|status_printf_more
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_const
r_char
op_star
id|color
comma
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|ap
suffix:semicolon
id|va_start
c_func
(paren
id|ap
comma
id|fmt
)paren
suffix:semicolon
id|status_vprintf
c_func
(paren
id|s
comma
l_int|0
comma
id|color
comma
id|fmt
comma
id|ap
comma
l_int|NULL
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|ap
)paren
suffix:semicolon
)brace
DECL|function|wt_status_prepare
r_void
id|wt_status_prepare
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
r_char
id|sha1
(braket
l_int|20
)braket
suffix:semicolon
id|memset
c_func
(paren
id|s
comma
l_int|0
comma
r_sizeof
(paren
op_star
id|s
)paren
)paren
suffix:semicolon
id|memcpy
c_func
(paren
id|s-&gt;color_palette
comma
id|default_wt_status_colors
comma
r_sizeof
(paren
id|default_wt_status_colors
)paren
)paren
suffix:semicolon
id|s-&gt;show_untracked_files
op_assign
id|SHOW_NORMAL_UNTRACKED_FILES
suffix:semicolon
id|s-&gt;use_color
op_assign
l_int|1
suffix:semicolon
id|s-&gt;relative_paths
op_assign
l_int|1
suffix:semicolon
id|s-&gt;branch
op_assign
id|resolve_refdup
c_func
(paren
l_string|&quot;HEAD&quot;
comma
l_int|0
comma
id|sha1
comma
l_int|NULL
)paren
suffix:semicolon
id|s-&gt;reference
op_assign
l_string|&quot;HEAD&quot;
suffix:semicolon
id|s-&gt;fp
op_assign
id|stdout
suffix:semicolon
id|s-&gt;index_file
op_assign
id|get_index_file
c_func
(paren
)paren
suffix:semicolon
id|s-&gt;change.strdup_strings
op_assign
l_int|1
suffix:semicolon
id|s-&gt;untracked.strdup_strings
op_assign
l_int|1
suffix:semicolon
id|s-&gt;ignored.strdup_strings
op_assign
l_int|1
suffix:semicolon
id|s-&gt;show_branch
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* unspecified */
id|s-&gt;display_comment_prefix
op_assign
l_int|0
suffix:semicolon
)brace
DECL|function|wt_status_print_unmerged_header
r_static
r_void
id|wt_status_print_unmerged_header
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|del_mod_conflict
op_assign
l_int|0
suffix:semicolon
r_int
id|both_deleted
op_assign
l_int|0
suffix:semicolon
r_int
id|not_deleted
op_assign
l_int|0
suffix:semicolon
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;Unmerged paths:&quot;
)paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|string_list_item
op_star
id|it
op_assign
op_amp
(paren
id|s-&gt;change.items
(braket
id|i
)braket
)paren
suffix:semicolon
r_struct
id|wt_status_change_data
op_star
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_switch
c_cond
(paren
id|d-&gt;stagemask
)paren
(brace
r_case
l_int|0
suffix:colon
r_break
suffix:semicolon
r_case
l_int|1
suffix:colon
id|both_deleted
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
r_case
l_int|5
suffix:colon
id|del_mod_conflict
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|not_deleted
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;hints
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;whence
op_ne
id|FROM_COMMIT
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;is_initial
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git reset %s &lt;file&gt;...&bslash;&quot; to unstage)&quot;
)paren
comma
id|s-&gt;reference
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rm --cached &lt;file&gt;...&bslash;&quot; to unstage)&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|both_deleted
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|del_mod_conflict
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git add &lt;file&gt;...&bslash;&quot; to mark resolution)&quot;
)paren
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git add/rm &lt;file&gt;...&bslash;&quot; as appropriate to mark resolution)&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|del_mod_conflict
op_logical_and
op_logical_neg
id|not_deleted
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rm &lt;file&gt;...&bslash;&quot; to mark resolution)&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git add/rm &lt;file&gt;...&bslash;&quot; as appropriate to mark resolution)&quot;
)paren
)paren
suffix:semicolon
)brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_cached_header
r_static
r_void
id|wt_status_print_cached_header
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;Changes to be committed:&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;hints
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;whence
op_ne
id|FROM_COMMIT
)paren
suffix:semicolon
multiline_comment|/* NEEDSWORK: use &quot;git reset --unresolve&quot;??? */
r_else
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;is_initial
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git reset %s &lt;file&gt;...&bslash;&quot; to unstage)&quot;
)paren
comma
id|s-&gt;reference
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rm --cached &lt;file&gt;...&bslash;&quot; to unstage)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_dirty_header
r_static
r_void
id|wt_status_print_dirty_header
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_int
id|has_deleted
comma
r_int
id|has_dirty_submodules
)paren
(brace
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;Changes not staged for commit:&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;hints
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|has_deleted
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git add &lt;file&gt;...&bslash;&quot; to update what will be committed)&quot;
)paren
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git add/rm &lt;file&gt;...&bslash;&quot; to update what will be committed)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git checkout -- &lt;file&gt;...&bslash;&quot; to discard changes in working directory)&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|has_dirty_submodules
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (commit or discard the untracked or modified content in submodules)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_other_header
r_static
r_void
id|wt_status_print_other_header
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_const
r_char
op_star
id|what
comma
r_const
r_char
op_star
id|how
)paren
(brace
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s:&quot;
comma
id|what
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;hints
)paren
r_return
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git %s &lt;file&gt;...&bslash;&quot; to include in what will be committed)&quot;
)paren
comma
id|how
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_trailer
r_static
r_void
id|wt_status_print_trailer
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|macro|quote_path
mdefine_line|#define quote_path quote_path_relative
DECL|function|wt_status_unmerged_status_string
r_static
r_const
r_char
op_star
id|wt_status_unmerged_status_string
c_func
(paren
r_int
id|stagemask
)paren
(brace
r_switch
c_cond
(paren
id|stagemask
)paren
(brace
r_case
l_int|1
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;both deleted:&quot;
)paren
suffix:semicolon
r_case
l_int|2
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;added by us:&quot;
)paren
suffix:semicolon
r_case
l_int|3
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;deleted by them:&quot;
)paren
suffix:semicolon
r_case
l_int|4
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;added by them:&quot;
)paren
suffix:semicolon
r_case
l_int|5
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;deleted by us:&quot;
)paren
suffix:semicolon
r_case
l_int|6
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;both added:&quot;
)paren
suffix:semicolon
r_case
l_int|7
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;both modified:&quot;
)paren
suffix:semicolon
r_default
suffix:colon
id|die
c_func
(paren
id|_
c_func
(paren
l_string|&quot;bug: unhandled unmerged status %x&quot;
)paren
comma
id|stagemask
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_status_diff_status_string
r_static
r_const
r_char
op_star
id|wt_status_diff_status_string
c_func
(paren
r_int
id|status
)paren
(brace
r_switch
c_cond
(paren
id|status
)paren
(brace
r_case
id|DIFF_STATUS_ADDED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;new file:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_COPIED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;copied:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_DELETED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;deleted:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_MODIFIED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;modified:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_RENAMED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;renamed:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_TYPE_CHANGED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;typechange:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_UNKNOWN
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;unknown:&quot;
)paren
suffix:semicolon
r_case
id|DIFF_STATUS_UNMERGED
suffix:colon
r_return
id|_
c_func
(paren
l_string|&quot;unmerged:&quot;
)paren
suffix:semicolon
r_default
suffix:colon
r_return
l_int|NULL
suffix:semicolon
)brace
)brace
DECL|function|maxwidth
r_static
r_int
id|maxwidth
c_func
(paren
r_const
r_char
op_star
(paren
op_star
id|label
)paren
(paren
r_int
)paren
comma
r_int
id|minval
comma
r_int
id|maxval
)paren
(brace
r_int
id|result
op_assign
l_int|0
comma
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|minval
suffix:semicolon
id|i
op_le
id|maxval
suffix:semicolon
id|i
op_increment
)paren
(brace
r_const
r_char
op_star
id|s
op_assign
id|label
c_func
(paren
id|i
)paren
suffix:semicolon
r_int
id|len
op_assign
id|s
ques
c_cond
id|utf8_strwidth
c_func
(paren
id|s
)paren
suffix:colon
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|len
OG
id|result
)paren
id|result
op_assign
id|len
suffix:semicolon
)brace
r_return
id|result
suffix:semicolon
)brace
DECL|function|wt_status_print_unmerged_data
r_static
r_void
id|wt_status_print_unmerged_data
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|string_list_item
op_star
id|it
)paren
(brace
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_UNMERGED
comma
id|s
)paren
suffix:semicolon
r_struct
id|wt_status_change_data
op_star
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_struct
id|strbuf
id|onebuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_static
r_char
op_star
id|padding
suffix:semicolon
r_static
r_int
id|label_width
suffix:semicolon
r_const
r_char
op_star
id|one
comma
op_star
id|how
suffix:semicolon
r_int
id|len
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|padding
)paren
(brace
id|label_width
op_assign
id|maxwidth
c_func
(paren
id|wt_status_unmerged_status_string
comma
l_int|1
comma
l_int|7
)paren
suffix:semicolon
id|label_width
op_add_assign
id|strlen
c_func
(paren
l_string|&quot; &quot;
)paren
suffix:semicolon
id|padding
op_assign
id|xmallocz
c_func
(paren
id|label_width
)paren
suffix:semicolon
id|memset
c_func
(paren
id|padding
comma
l_char|&squot; &squot;
comma
id|label_width
)paren
suffix:semicolon
)brace
id|one
op_assign
id|quote_path
c_func
(paren
id|it-&gt;string
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
id|status_printf
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;&bslash;t&quot;
)paren
suffix:semicolon
id|how
op_assign
id|wt_status_unmerged_status_string
c_func
(paren
id|d-&gt;stagemask
)paren
suffix:semicolon
id|len
op_assign
id|label_width
id|utf8_strwidth
c_func
(paren
id|how
)paren
suffix:semicolon
id|status_printf_more
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s%.*s%s&bslash;n&quot;
comma
id|how
comma
id|len
comma
id|padding
comma
id|one
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_change_data
r_static
r_void
id|wt_status_print_change_data
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_int
id|change_type
comma
r_struct
id|string_list_item
op_star
id|it
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|change_type
comma
id|s
)paren
suffix:semicolon
r_int
id|status
suffix:semicolon
r_char
op_star
id|one_name
suffix:semicolon
r_char
op_star
id|two_name
suffix:semicolon
r_const
r_char
op_star
id|one
comma
op_star
id|two
suffix:semicolon
r_struct
id|strbuf
id|onebuf
op_assign
id|STRBUF_INIT
comma
id|twobuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_struct
id|strbuf
id|extra
op_assign
id|STRBUF_INIT
suffix:semicolon
r_static
r_char
op_star
id|padding
suffix:semicolon
r_static
r_int
id|label_width
suffix:semicolon
r_const
r_char
op_star
id|what
suffix:semicolon
r_int
id|len
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|padding
)paren
(brace
multiline_comment|/* If DIFF_STATUS_* uses outside the range [A..Z], we&squot;re in trouble */
id|label_width
op_assign
id|maxwidth
c_func
(paren
id|wt_status_diff_status_string
comma
l_char|&squot;A&squot;
comma
l_char|&squot;Z&squot;
)paren
suffix:semicolon
id|label_width
op_add_assign
id|strlen
c_func
(paren
l_string|&quot; &quot;
)paren
suffix:semicolon
id|padding
op_assign
id|xmallocz
c_func
(paren
id|label_width
)paren
suffix:semicolon
id|memset
c_func
(paren
id|padding
comma
l_char|&squot; &squot;
comma
id|label_width
)paren
suffix:semicolon
)brace
id|one_name
op_assign
id|two_name
op_assign
id|it-&gt;string
suffix:semicolon
r_switch
c_cond
(paren
id|change_type
)paren
(brace
r_case
id|WT_STATUS_UPDATED
suffix:colon
id|status
op_assign
id|d-&gt;index_status
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;head_path
)paren
id|one_name
op_assign
id|d-&gt;head_path
suffix:semicolon
r_break
suffix:semicolon
r_case
id|WT_STATUS_CHANGED
suffix:colon
r_if
c_cond
(paren
id|d-&gt;new_submodule_commits
op_logical_or
id|d-&gt;dirty_submodule
)paren
(brace
id|strbuf_addstr
c_func
(paren
op_amp
id|extra
comma
l_string|&quot; (&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;new_submodule_commits
)paren
id|strbuf_addf
c_func
(paren
op_amp
id|extra
comma
id|_
c_func
(paren
l_string|&quot;new commits, &quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;dirty_submodule
op_amp
id|DIRTY_SUBMODULE_MODIFIED
)paren
id|strbuf_addf
c_func
(paren
op_amp
id|extra
comma
id|_
c_func
(paren
l_string|&quot;modified content, &quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;dirty_submodule
op_amp
id|DIRTY_SUBMODULE_UNTRACKED
)paren
id|strbuf_addf
c_func
(paren
op_amp
id|extra
comma
id|_
c_func
(paren
l_string|&quot;untracked content, &quot;
)paren
)paren
suffix:semicolon
id|strbuf_setlen
c_func
(paren
op_amp
id|extra
comma
id|extra.len
l_int|2
)paren
suffix:semicolon
id|strbuf_addch
c_func
(paren
op_amp
id|extra
comma
l_char|&squot;)&squot;
)paren
suffix:semicolon
)brace
id|status
op_assign
id|d-&gt;worktree_status
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|die
c_func
(paren
l_string|&quot;BUG: unhandled change_type %d in wt_status_print_change_data&quot;
comma
id|change_type
)paren
suffix:semicolon
)brace
id|one
op_assign
id|quote_path
c_func
(paren
id|one_name
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
id|two
op_assign
id|quote_path
c_func
(paren
id|two_name
comma
id|s-&gt;prefix
comma
op_amp
id|twobuf
)paren
suffix:semicolon
id|status_printf
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;&bslash;t&quot;
)paren
suffix:semicolon
id|what
op_assign
id|wt_status_diff_status_string
c_func
(paren
id|status
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|what
)paren
id|die
c_func
(paren
id|_
c_func
(paren
l_string|&quot;bug: unhandled diff status %c&quot;
)paren
comma
id|status
)paren
suffix:semicolon
id|len
op_assign
id|label_width
id|utf8_strwidth
c_func
(paren
id|what
)paren
suffix:semicolon
m_assert
(paren
id|len
op_ge
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|status
op_eq
id|DIFF_STATUS_COPIED
op_logical_or
id|status
op_eq
id|DIFF_STATUS_RENAMED
)paren
id|status_printf_more
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s%.*s%s -&gt; %s&quot;
comma
id|what
comma
id|len
comma
id|padding
comma
id|one
comma
id|two
)paren
suffix:semicolon
r_else
id|status_printf_more
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;%s%.*s%s&quot;
comma
id|what
comma
id|len
comma
id|padding
comma
id|one
)paren
suffix:semicolon
r_if
c_cond
(paren
id|extra.len
)paren
(brace
id|status_printf_more
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
id|extra.buf
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|extra
)paren
suffix:semicolon
)brace
id|status_printf_more
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|twobuf
)paren
suffix:semicolon
)brace
DECL|function|wt_status_collect_changed_cb
r_static
r_void
id|wt_status_collect_changed_cb
c_func
(paren
r_struct
id|diff_queue_struct
op_star
id|q
comma
r_struct
id|diff_options
op_star
id|options
comma
r_void
op_star
id|data
)paren
(brace
r_struct
id|wt_status
op_star
id|s
op_assign
id|data
suffix:semicolon
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|q-&gt;nr
)paren
r_return
suffix:semicolon
id|s-&gt;workdir_dirty
op_assign
l_int|1
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|q-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|diff_filepair
op_star
id|p
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
id|p
op_assign
id|q-&gt;queue
(braket
id|i
)braket
suffix:semicolon
id|it
op_assign
id|string_list_insert
c_func
(paren
op_amp
id|s-&gt;change
comma
id|p-&gt;one-&gt;path
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d
)paren
(brace
id|d
op_assign
id|xcalloc
c_func
(paren
l_int|1
comma
r_sizeof
(paren
op_star
id|d
)paren
)paren
suffix:semicolon
id|it-&gt;util
op_assign
id|d
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;worktree_status
)paren
id|d-&gt;worktree_status
op_assign
id|p-&gt;status
suffix:semicolon
id|d-&gt;dirty_submodule
op_assign
id|p-&gt;two-&gt;dirty_submodule
suffix:semicolon
r_if
c_cond
(paren
id|S_ISGITLINK
c_func
(paren
id|p-&gt;two-&gt;mode
)paren
)paren
id|d-&gt;new_submodule_commits
op_assign
op_logical_neg
op_logical_neg
id|hashcmp
c_func
(paren
id|p-&gt;one-&gt;sha1
comma
id|p-&gt;two-&gt;sha1
)paren
suffix:semicolon
)brace
)brace
DECL|function|unmerged_mask
r_static
r_int
id|unmerged_mask
c_func
(paren
r_const
r_char
op_star
id|path
)paren
(brace
r_int
id|pos
comma
id|mask
suffix:semicolon
r_const
r_struct
id|cache_entry
op_star
id|ce
suffix:semicolon
id|pos
op_assign
id|cache_name_pos
c_func
(paren
id|path
comma
id|strlen
c_func
(paren
id|path
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
l_int|0
op_le
id|pos
)paren
r_return
l_int|0
suffix:semicolon
id|mask
op_assign
l_int|0
suffix:semicolon
id|pos
op_assign
id|pos
op_minus
l_int|1
suffix:semicolon
r_while
c_loop
(paren
id|pos
OL
id|active_nr
)paren
(brace
id|ce
op_assign
id|active_cache
(braket
id|pos
op_increment
)braket
suffix:semicolon
r_if
c_cond
(paren
id|strcmp
c_func
(paren
id|ce-&gt;name
comma
id|path
)paren
op_logical_or
op_logical_neg
id|ce_stage
c_func
(paren
id|ce
)paren
)paren
r_break
suffix:semicolon
id|mask
op_or_assign
(paren
l_int|1
op_lshift
(paren
id|ce_stage
c_func
(paren
id|ce
)paren
l_int|1
)paren
)paren
suffix:semicolon
)brace
r_return
id|mask
suffix:semicolon
)brace
DECL|function|wt_status_collect_updated_cb
r_static
r_void
id|wt_status_collect_updated_cb
c_func
(paren
r_struct
id|diff_queue_struct
op_star
id|q
comma
r_struct
id|diff_options
op_star
id|options
comma
r_void
op_star
id|data
)paren
(brace
r_struct
id|wt_status
op_star
id|s
op_assign
id|data
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|q-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|diff_filepair
op_star
id|p
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
id|p
op_assign
id|q-&gt;queue
(braket
id|i
)braket
suffix:semicolon
id|it
op_assign
id|string_list_insert
c_func
(paren
op_amp
id|s-&gt;change
comma
id|p-&gt;two-&gt;path
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d
)paren
(brace
id|d
op_assign
id|xcalloc
c_func
(paren
l_int|1
comma
r_sizeof
(paren
op_star
id|d
)paren
)paren
suffix:semicolon
id|it-&gt;util
op_assign
id|d
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;index_status
)paren
id|d-&gt;index_status
op_assign
id|p-&gt;status
suffix:semicolon
r_switch
c_cond
(paren
id|p-&gt;status
)paren
(brace
r_case
id|DIFF_STATUS_COPIED
suffix:colon
r_case
id|DIFF_STATUS_RENAMED
suffix:colon
id|d-&gt;head_path
op_assign
id|xstrdup
c_func
(paren
id|p-&gt;one-&gt;path
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|DIFF_STATUS_UNMERGED
suffix:colon
id|d-&gt;stagemask
op_assign
id|unmerged_mask
c_func
(paren
id|p-&gt;two-&gt;path
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
)brace
DECL|function|wt_status_collect_changes_worktree
r_static
r_void
id|wt_status_collect_changes_worktree
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|rev_info
id|rev
suffix:semicolon
id|init_revisions
c_func
(paren
op_amp
id|rev
comma
l_int|NULL
)paren
suffix:semicolon
id|setup_revisions
c_func
(paren
l_int|0
comma
l_int|NULL
comma
op_amp
id|rev
comma
l_int|NULL
)paren
suffix:semicolon
id|rev.diffopt.output_format
op_or_assign
id|DIFF_FORMAT_CALLBACK
suffix:semicolon
id|DIFF_OPT_SET
c_func
(paren
op_amp
id|rev.diffopt
comma
id|DIRTY_SUBMODULES
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;show_untracked_files
)paren
id|DIFF_OPT_SET
c_func
(paren
op_amp
id|rev.diffopt
comma
id|IGNORE_UNTRACKED_IN_SUBMODULES
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;ignore_submodule_arg
)paren
(brace
id|DIFF_OPT_SET
c_func
(paren
op_amp
id|rev.diffopt
comma
id|OVERRIDE_SUBMODULE_CONFIG
)paren
suffix:semicolon
id|handle_ignore_submodules_arg
c_func
(paren
op_amp
id|rev.diffopt
comma
id|s-&gt;ignore_submodule_arg
)paren
suffix:semicolon
)brace
id|rev.diffopt.format_callback
op_assign
id|wt_status_collect_changed_cb
suffix:semicolon
id|rev.diffopt.format_callback_data
op_assign
id|s
suffix:semicolon
id|copy_pathspec
c_func
(paren
op_amp
id|rev.prune_data
comma
op_amp
id|s-&gt;pathspec
)paren
suffix:semicolon
id|run_diff_files
c_func
(paren
op_amp
id|rev
comma
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|wt_status_collect_changes_index
r_static
r_void
id|wt_status_collect_changes_index
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|rev_info
id|rev
suffix:semicolon
r_struct
id|setup_revision_opt
id|opt
suffix:semicolon
id|init_revisions
c_func
(paren
op_amp
id|rev
comma
l_int|NULL
)paren
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|opt
comma
l_int|0
comma
r_sizeof
(paren
id|opt
)paren
)paren
suffix:semicolon
id|opt.def
op_assign
id|s-&gt;is_initial
ques
c_cond
id|EMPTY_TREE_SHA1_HEX
suffix:colon
id|s-&gt;reference
suffix:semicolon
id|setup_revisions
c_func
(paren
l_int|0
comma
l_int|NULL
comma
op_amp
id|rev
comma
op_amp
id|opt
)paren
suffix:semicolon
id|DIFF_OPT_SET
c_func
(paren
op_amp
id|rev.diffopt
comma
id|OVERRIDE_SUBMODULE_CONFIG
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;ignore_submodule_arg
)paren
(brace
id|handle_ignore_submodules_arg
c_func
(paren
op_amp
id|rev.diffopt
comma
id|s-&gt;ignore_submodule_arg
)paren
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/*&n;&t;&t; * Unless the user did explicitly request a submodule ignore&n;&t;&t; * mode by passing a command line option we do not ignore any&n;&t;&t; * changed submodule SHA-1s when comparing index and HEAD, no&n;&t;&t; * matter what is configured. Otherwise the user won&squot;t be&n;&t;&t; * shown any submodules she manually added (and which are&n;&t;&t; * staged to be committed), which would be really confusing.&n;&t;&t; */
id|handle_ignore_submodules_arg
c_func
(paren
op_amp
id|rev.diffopt
comma
l_string|&quot;dirty&quot;
)paren
suffix:semicolon
)brace
id|rev.diffopt.output_format
op_or_assign
id|DIFF_FORMAT_CALLBACK
suffix:semicolon
id|rev.diffopt.format_callback
op_assign
id|wt_status_collect_updated_cb
suffix:semicolon
id|rev.diffopt.format_callback_data
op_assign
id|s
suffix:semicolon
id|rev.diffopt.detect_rename
op_assign
l_int|1
suffix:semicolon
id|rev.diffopt.rename_limit
op_assign
l_int|200
suffix:semicolon
id|rev.diffopt.break_opt
op_assign
l_int|0
suffix:semicolon
id|copy_pathspec
c_func
(paren
op_amp
id|rev.prune_data
comma
op_amp
id|s-&gt;pathspec
)paren
suffix:semicolon
id|run_diff_index
c_func
(paren
op_amp
id|rev
comma
l_int|1
)paren
suffix:semicolon
)brace
DECL|function|wt_status_collect_changes_initial
r_static
r_void
id|wt_status_collect_changes_initial
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|active_nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
r_const
r_struct
id|cache_entry
op_star
id|ce
op_assign
id|active_cache
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ce_path_match
c_func
(paren
id|ce
comma
op_amp
id|s-&gt;pathspec
comma
l_int|NULL
)paren
)paren
r_continue
suffix:semicolon
id|it
op_assign
id|string_list_insert
c_func
(paren
op_amp
id|s-&gt;change
comma
id|ce-&gt;name
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d
)paren
(brace
id|d
op_assign
id|xcalloc
c_func
(paren
l_int|1
comma
r_sizeof
(paren
op_star
id|d
)paren
)paren
suffix:semicolon
id|it-&gt;util
op_assign
id|d
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ce_stage
c_func
(paren
id|ce
)paren
)paren
(brace
id|d-&gt;index_status
op_assign
id|DIFF_STATUS_UNMERGED
suffix:semicolon
id|d-&gt;stagemask
op_or_assign
(paren
l_int|1
op_lshift
(paren
id|ce_stage
c_func
(paren
id|ce
)paren
l_int|1
)paren
)paren
suffix:semicolon
)brace
r_else
id|d-&gt;index_status
op_assign
id|DIFF_STATUS_ADDED
suffix:semicolon
)brace
)brace
DECL|function|wt_status_collect_untracked
r_static
r_void
id|wt_status_collect_untracked
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_struct
id|dir_struct
id|dir
suffix:semicolon
r_uint64
id|t_begin
op_assign
id|getnanotime
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;show_untracked_files
)paren
r_return
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|dir
comma
l_int|0
comma
r_sizeof
(paren
id|dir
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;show_untracked_files
op_ne
id|SHOW_ALL_UNTRACKED_FILES
)paren
id|dir.flags
op_or_assign
id|DIR_SHOW_OTHER_DIRECTORIES
op_or
id|DIR_HIDE_EMPTY_DIRECTORIES
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;show_ignored_files
)paren
id|dir.flags
op_or_assign
id|DIR_SHOW_IGNORED_TOO
suffix:semicolon
id|setup_standard_excludes
c_func
(paren
op_amp
id|dir
)paren
suffix:semicolon
id|fill_directory
c_func
(paren
op_amp
id|dir
comma
op_amp
id|s-&gt;pathspec
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|dir.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|dir_entry
op_star
id|ent
op_assign
id|dir.entries
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|cache_name_is_other
c_func
(paren
id|ent-&gt;name
comma
id|ent-&gt;len
)paren
op_logical_and
id|dir_path_match
c_func
(paren
id|ent
comma
op_amp
id|s-&gt;pathspec
comma
l_int|0
comma
l_int|NULL
)paren
)paren
id|string_list_insert
c_func
(paren
op_amp
id|s-&gt;untracked
comma
id|ent-&gt;name
)paren
suffix:semicolon
id|free
c_func
(paren
id|ent
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|dir.ignored_nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|dir_entry
op_star
id|ent
op_assign
id|dir.ignored
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|cache_name_is_other
c_func
(paren
id|ent-&gt;name
comma
id|ent-&gt;len
)paren
op_logical_and
id|dir_path_match
c_func
(paren
id|ent
comma
op_amp
id|s-&gt;pathspec
comma
l_int|0
comma
l_int|NULL
)paren
)paren
id|string_list_insert
c_func
(paren
op_amp
id|s-&gt;ignored
comma
id|ent-&gt;name
)paren
suffix:semicolon
id|free
c_func
(paren
id|ent
)paren
suffix:semicolon
)brace
id|free
c_func
(paren
id|dir.entries
)paren
suffix:semicolon
id|free
c_func
(paren
id|dir.ignored
)paren
suffix:semicolon
id|clear_directory
c_func
(paren
op_amp
id|dir
)paren
suffix:semicolon
r_if
c_cond
(paren
id|advice_status_u_option
)paren
id|s-&gt;untracked_in_ms
op_assign
(paren
id|getnanotime
c_func
(paren
)paren
id|t_begin
)paren
op_div
l_int|1000000
suffix:semicolon
)brace
DECL|function|wt_status_collect
r_void
id|wt_status_collect
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
id|wt_status_collect_changes_worktree
c_func
(paren
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;is_initial
)paren
id|wt_status_collect_changes_initial
c_func
(paren
id|s
)paren
suffix:semicolon
r_else
id|wt_status_collect_changes_index
c_func
(paren
id|s
)paren
suffix:semicolon
id|wt_status_collect_untracked
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_unmerged
r_static
r_void
id|wt_status_print_unmerged
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|shown_header
op_assign
l_int|0
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;change.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;stagemask
)paren
r_continue
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|shown_header
)paren
(brace
id|wt_status_print_unmerged_header
c_func
(paren
id|s
)paren
suffix:semicolon
id|shown_header
op_assign
l_int|1
suffix:semicolon
)brace
id|wt_status_print_unmerged_data
c_func
(paren
id|s
comma
id|it
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|shown_header
)paren
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_updated
r_static
r_void
id|wt_status_print_updated
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|shown_header
op_assign
l_int|0
suffix:semicolon
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;change.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;index_status
op_logical_or
id|d-&gt;index_status
op_eq
id|DIFF_STATUS_UNMERGED
)paren
r_continue
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|shown_header
)paren
(brace
id|wt_status_print_cached_header
c_func
(paren
id|s
)paren
suffix:semicolon
id|s-&gt;commitable
op_assign
l_int|1
suffix:semicolon
id|shown_header
op_assign
l_int|1
suffix:semicolon
)brace
id|wt_status_print_change_data
c_func
(paren
id|s
comma
id|WT_STATUS_UPDATED
comma
id|it
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|shown_header
)paren
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * -1 : has delete&n; *  0 : no change&n; *  1 : some change but no delete&n; */
DECL|function|wt_status_check_worktree_changes
r_static
r_int
id|wt_status_check_worktree_changes
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_int
op_star
id|dirty_submodules
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|changes
op_assign
l_int|0
suffix:semicolon
op_star
id|dirty_submodules
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
id|d
op_assign
id|s-&gt;change.items
(braket
id|i
)braket
dot
id|util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;worktree_status
op_logical_or
id|d-&gt;worktree_status
op_eq
id|DIFF_STATUS_UNMERGED
)paren
r_continue
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|changes
)paren
id|changes
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;dirty_submodule
)paren
op_star
id|dirty_submodules
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;worktree_status
op_eq
id|DIFF_STATUS_DELETED
)paren
id|changes
op_assign
l_int|1
suffix:semicolon
)brace
r_return
id|changes
suffix:semicolon
)brace
DECL|function|wt_status_print_changed
r_static
r_void
id|wt_status_print_changed
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
comma
id|dirty_submodules
suffix:semicolon
r_int
id|worktree_changes
op_assign
id|wt_status_check_worktree_changes
c_func
(paren
id|s
comma
op_amp
id|dirty_submodules
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|worktree_changes
)paren
r_return
suffix:semicolon
id|wt_status_print_dirty_header
c_func
(paren
id|s
comma
id|worktree_changes
OL
l_int|0
comma
id|dirty_submodules
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;change.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|d-&gt;worktree_status
op_logical_or
id|d-&gt;worktree_status
op_eq
id|DIFF_STATUS_UNMERGED
)paren
r_continue
suffix:semicolon
id|wt_status_print_change_data
c_func
(paren
id|s
comma
id|WT_STATUS_CHANGED
comma
id|it
)paren
suffix:semicolon
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_submodule_summary
r_static
r_void
id|wt_status_print_submodule_summary
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_int
id|uncommitted
)paren
(brace
r_struct
id|child_process
id|sm_summary
op_assign
id|CHILD_PROCESS_INIT
suffix:semicolon
r_struct
id|strbuf
id|cmd_stdout
op_assign
id|STRBUF_INIT
suffix:semicolon
r_struct
id|strbuf
id|summary
op_assign
id|STRBUF_INIT
suffix:semicolon
r_char
op_star
id|summary_content
suffix:semicolon
id|argv_array_pushf
c_func
(paren
op_amp
id|sm_summary.env_array
comma
l_string|&quot;GIT_INDEX_FILE=%s&quot;
comma
id|s-&gt;index_file
)paren
suffix:semicolon
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
l_string|&quot;submodule&quot;
)paren
suffix:semicolon
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
l_string|&quot;summary&quot;
)paren
suffix:semicolon
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
id|uncommitted
ques
c_cond
l_string|&quot;--files&quot;
suffix:colon
l_string|&quot;--cached&quot;
)paren
suffix:semicolon
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
l_string|&quot;--for-status&quot;
)paren
suffix:semicolon
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
l_string|&quot;--summary-limit&quot;
)paren
suffix:semicolon
id|argv_array_pushf
c_func
(paren
op_amp
id|sm_summary.args
comma
l_string|&quot;%d&quot;
comma
id|s-&gt;submodule_summary
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|uncommitted
)paren
id|argv_array_push
c_func
(paren
op_amp
id|sm_summary.args
comma
id|s-&gt;amend
ques
c_cond
l_string|&quot;HEAD^&quot;
suffix:colon
l_string|&quot;HEAD&quot;
)paren
suffix:semicolon
id|sm_summary.git_cmd
op_assign
l_int|1
suffix:semicolon
id|sm_summary.no_stdin
op_assign
l_int|1
suffix:semicolon
id|capture_command
c_func
(paren
op_amp
id|sm_summary
comma
op_amp
id|cmd_stdout
comma
l_int|1024
)paren
suffix:semicolon
multiline_comment|/* prepend header, only if there&squot;s an actual output */
r_if
c_cond
(paren
id|cmd_stdout.len
)paren
(brace
r_if
c_cond
(paren
id|uncommitted
)paren
id|strbuf_addstr
c_func
(paren
op_amp
id|summary
comma
id|_
c_func
(paren
l_string|&quot;Submodules changed but not updated:&quot;
)paren
)paren
suffix:semicolon
r_else
id|strbuf_addstr
c_func
(paren
op_amp
id|summary
comma
id|_
c_func
(paren
l_string|&quot;Submodule changes to be committed:&quot;
)paren
)paren
suffix:semicolon
id|strbuf_addstr
c_func
(paren
op_amp
id|summary
comma
l_string|&quot;&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
id|strbuf_addbuf
c_func
(paren
op_amp
id|summary
comma
op_amp
id|cmd_stdout
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|cmd_stdout
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;display_comment_prefix
)paren
(brace
r_int
id|len
suffix:semicolon
id|summary_content
op_assign
id|strbuf_detach
c_func
(paren
op_amp
id|summary
comma
op_amp
id|len
)paren
suffix:semicolon
id|strbuf_add_commented_lines
c_func
(paren
op_amp
id|summary
comma
id|summary_content
comma
id|len
)paren
suffix:semicolon
id|free
c_func
(paren
id|summary_content
)paren
suffix:semicolon
)brace
id|fputs
c_func
(paren
id|summary.buf
comma
id|s-&gt;fp
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|summary
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_other
r_static
r_void
id|wt_status_print_other
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|string_list
op_star
id|l
comma
r_const
r_char
op_star
id|what
comma
r_const
r_char
op_star
id|how
)paren
(brace
r_int
id|i
suffix:semicolon
r_struct
id|strbuf
id|buf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_static
r_struct
id|string_list
id|output
op_assign
id|STRING_LIST_INIT_DUP
suffix:semicolon
r_struct
id|column_options
id|copts
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|l-&gt;nr
)paren
r_return
suffix:semicolon
id|wt_status_print_other_header
c_func
(paren
id|s
comma
id|what
comma
id|how
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|l-&gt;nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
r_const
r_char
op_star
id|path
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|l-&gt;items
(braket
id|i
)braket
)paren
suffix:semicolon
id|path
op_assign
id|quote_path
c_func
(paren
id|it-&gt;string
comma
id|s-&gt;prefix
comma
op_amp
id|buf
)paren
suffix:semicolon
r_if
c_cond
(paren
id|column_active
c_func
(paren
id|s-&gt;colopts
)paren
)paren
(brace
id|string_list_append
c_func
(paren
op_amp
id|output
comma
id|path
)paren
suffix:semicolon
r_continue
suffix:semicolon
)brace
id|status_printf
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;&bslash;t&quot;
)paren
suffix:semicolon
id|status_printf_more
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_UNTRACKED
comma
id|s
)paren
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|path
)paren
suffix:semicolon
)brace
id|strbuf_release
c_func
(paren
op_amp
id|buf
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|column_active
c_func
(paren
id|s-&gt;colopts
)paren
)paren
r_goto
id|conclude
suffix:semicolon
id|strbuf_addf
c_func
(paren
op_amp
id|buf
comma
l_string|&quot;%s%s&bslash;t%s&quot;
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
id|s-&gt;display_comment_prefix
ques
c_cond
l_string|&quot;#&quot;
suffix:colon
l_string|&quot;&quot;
comma
id|color
c_func
(paren
id|WT_STATUS_UNTRACKED
comma
id|s
)paren
)paren
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|copts
comma
l_int|0
comma
r_sizeof
(paren
id|copts
)paren
)paren
suffix:semicolon
id|copts.padding
op_assign
l_int|1
suffix:semicolon
id|copts.indent
op_assign
id|buf.buf
suffix:semicolon
r_if
c_cond
(paren
id|want_color
c_func
(paren
id|s-&gt;use_color
)paren
)paren
id|copts.nl
op_assign
id|GIT_COLOR_RESET
l_string|&quot;&bslash;n&quot;
suffix:semicolon
id|print_columns
c_func
(paren
op_amp
id|output
comma
id|s-&gt;colopts
comma
op_amp
id|copts
)paren
suffix:semicolon
id|string_list_clear
c_func
(paren
op_amp
id|output
comma
l_int|0
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|buf
)paren
suffix:semicolon
id|conclude
suffix:colon
id|status_printf_ln
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
DECL|function|wt_status_truncate_message_at_cut_line
r_void
id|wt_status_truncate_message_at_cut_line
c_func
(paren
r_struct
id|strbuf
op_star
id|buf
)paren
(brace
r_const
r_char
op_star
id|p
suffix:semicolon
r_struct
id|strbuf
id|pattern
op_assign
id|STRBUF_INIT
suffix:semicolon
id|strbuf_addf
c_func
(paren
op_amp
id|pattern
comma
l_string|&quot;&bslash;n%c %s&quot;
comma
id|comment_line_char
comma
id|cut_line
)paren
suffix:semicolon
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|buf-&gt;buf
comma
id|pattern.buf
op_plus
l_int|1
)paren
)paren
id|strbuf_setlen
c_func
(paren
id|buf
comma
l_int|0
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
(paren
id|p
op_assign
id|strstr
c_func
(paren
id|buf-&gt;buf
comma
id|pattern.buf
)paren
)paren
)paren
id|strbuf_setlen
c_func
(paren
id|buf
comma
id|p
id|buf-&gt;buf
op_plus
l_int|1
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|pattern
)paren
suffix:semicolon
)brace
DECL|function|wt_status_add_cut_line
r_void
id|wt_status_add_cut_line
c_func
(paren
id|FILE
op_star
id|fp
)paren
(brace
r_const
r_char
op_star
id|explanation
op_assign
id|_
c_func
(paren
l_string|&quot;Do not touch the line above.&bslash;nEverything below will be removed.&quot;
)paren
suffix:semicolon
r_struct
id|strbuf
id|buf
op_assign
id|STRBUF_INIT
suffix:semicolon
id|fprintf
c_func
(paren
id|fp
comma
l_string|&quot;%c %s&quot;
comma
id|comment_line_char
comma
id|cut_line
)paren
suffix:semicolon
id|strbuf_add_commented_lines
c_func
(paren
op_amp
id|buf
comma
id|explanation
comma
id|strlen
c_func
(paren
id|explanation
)paren
)paren
suffix:semicolon
id|fputs
c_func
(paren
id|buf.buf
comma
id|fp
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|buf
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_verbose
r_static
r_void
id|wt_status_print_verbose
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|rev_info
id|rev
suffix:semicolon
r_struct
id|setup_revision_opt
id|opt
suffix:semicolon
r_int
id|dirty_submodules
suffix:semicolon
r_const
r_char
op_star
id|c
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
id|init_revisions
c_func
(paren
op_amp
id|rev
comma
l_int|NULL
)paren
suffix:semicolon
id|DIFF_OPT_SET
c_func
(paren
op_amp
id|rev.diffopt
comma
id|ALLOW_TEXTCONV
)paren
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|opt
comma
l_int|0
comma
r_sizeof
(paren
id|opt
)paren
)paren
suffix:semicolon
id|opt.def
op_assign
id|s-&gt;is_initial
ques
c_cond
id|EMPTY_TREE_SHA1_HEX
suffix:colon
id|s-&gt;reference
suffix:semicolon
id|setup_revisions
c_func
(paren
l_int|0
comma
l_int|NULL
comma
op_amp
id|rev
comma
op_amp
id|opt
)paren
suffix:semicolon
id|rev.diffopt.output_format
op_or_assign
id|DIFF_FORMAT_PATCH
suffix:semicolon
id|rev.diffopt.detect_rename
op_assign
l_int|1
suffix:semicolon
id|rev.diffopt.file
op_assign
id|s-&gt;fp
suffix:semicolon
id|rev.diffopt.close_file
op_assign
l_int|0
suffix:semicolon
multiline_comment|/*&n;&t; * If we&squot;re not going to stdout, then we definitely don&squot;t&n;&t; * want color, since we are going to the commit message&n;&t; * file (and even the &quot;auto&quot; setting won&squot;t work, since it&n;&t; * will have checked isatty on stdout). But we then do want&n;&t; * to insert the scissor line here to reliably remove the&n;&t; * diff before committing.&n;&t; */
r_if
c_cond
(paren
id|s-&gt;fp
op_ne
id|stdout
)paren
(brace
id|rev.diffopt.use_color
op_assign
l_int|0
suffix:semicolon
id|wt_status_add_cut_line
c_func
(paren
id|s-&gt;fp
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|s-&gt;verbose
OG
l_int|1
op_logical_and
id|s-&gt;commitable
)paren
(brace
multiline_comment|/* print_updated() printed a header, so do we */
r_if
c_cond
(paren
id|s-&gt;fp
op_ne
id|stdout
)paren
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;Changes to be committed:&quot;
)paren
)paren
suffix:semicolon
id|rev.diffopt.a_prefix
op_assign
l_string|&quot;c/&quot;
suffix:semicolon
id|rev.diffopt.b_prefix
op_assign
l_string|&quot;i/&quot;
suffix:semicolon
)brace
multiline_comment|/* else use prefix as per user config */
id|run_diff_index
c_func
(paren
op_amp
id|rev
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;verbose
OG
l_int|1
op_logical_and
id|wt_status_check_worktree_changes
c_func
(paren
id|s
comma
op_amp
id|dirty_submodules
)paren
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
l_string|&quot;--------------------------------------------------&quot;
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|c
comma
id|_
c_func
(paren
l_string|&quot;Changes not staged for commit:&quot;
)paren
)paren
suffix:semicolon
id|setup_work_tree
c_func
(paren
)paren
suffix:semicolon
id|rev.diffopt.a_prefix
op_assign
l_string|&quot;i/&quot;
suffix:semicolon
id|rev.diffopt.b_prefix
op_assign
l_string|&quot;w/&quot;
suffix:semicolon
id|run_diff_files
c_func
(paren
op_amp
id|rev
comma
l_int|0
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_status_print_tracking
r_static
r_void
id|wt_status_print_tracking
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|strbuf
id|sb
op_assign
id|STRBUF_INIT
suffix:semicolon
r_const
r_char
op_star
id|cp
comma
op_star
id|ep
suffix:semicolon
r_struct
id|branch
op_star
id|branch
suffix:semicolon
r_char
id|comment_line_string
(braket
l_int|3
)braket
suffix:semicolon
r_int
id|i
suffix:semicolon
m_assert
(paren
id|s-&gt;branch
op_logical_and
op_logical_neg
id|s-&gt;is_initial
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|starts_with
c_func
(paren
id|s-&gt;branch
comma
l_string|&quot;refs/heads/&quot;
)paren
)paren
r_return
suffix:semicolon
id|branch
op_assign
id|branch_get
c_func
(paren
id|s-&gt;branch
op_plus
l_int|11
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|format_tracking_info
c_func
(paren
id|branch
comma
op_amp
id|sb
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;display_comment_prefix
)paren
(brace
id|comment_line_string
(braket
id|i
op_increment
)braket
op_assign
id|comment_line_char
suffix:semicolon
id|comment_line_string
(braket
id|i
op_increment
)braket
op_assign
l_char|&squot; &squot;
suffix:semicolon
)brace
id|comment_line_string
(braket
id|i
)braket
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
r_for
c_loop
(paren
id|cp
op_assign
id|sb.buf
suffix:semicolon
(paren
id|ep
op_assign
id|strchr
c_func
(paren
id|cp
comma
l_char|&squot;&bslash;n&squot;
)paren
)paren
op_ne
l_int|NULL
suffix:semicolon
id|cp
op_assign
id|ep
op_plus
l_int|1
)paren
id|color_fprintf_ln
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s%.*s&quot;
comma
id|comment_line_string
comma
(paren
r_int
)paren
(paren
id|ep
id|cp
)paren
comma
id|cp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;display_comment_prefix
)paren
id|color_fprintf_ln
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%c&quot;
comma
id|comment_line_char
)paren
suffix:semicolon
r_else
id|fputs
c_func
(paren
l_string|&quot;&quot;
comma
id|s-&gt;fp
)paren
suffix:semicolon
)brace
DECL|function|has_unmerged
r_static
r_int
id|has_unmerged
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
id|d
op_assign
id|s-&gt;change.items
(braket
id|i
)braket
dot
id|util
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;stagemask
)paren
r_return
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|show_merge_in_progress
r_static
r_void
id|show_merge_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
r_if
c_cond
(paren
id|has_unmerged
c_func
(paren
id|s
)paren
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You have unmerged paths.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (fix conflicts and run &bslash;&quot;git commit&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;All conflicts fixed but you are still merging.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git commit&bslash;&quot; to conclude merge)&quot;
)paren
)paren
suffix:semicolon
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|show_am_in_progress
r_static
r_void
id|show_am_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are in the middle of an am session.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;am_empty_patch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;The current patch is empty.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|state-&gt;am_empty_patch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (fix conflicts and then run &bslash;&quot;git am --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git am --skip&bslash;&quot; to skip this patch)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git am --abort&bslash;&quot; to restore the original branch)&quot;
)paren
)paren
suffix:semicolon
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|read_line_from_git_path
r_static
r_char
op_star
id|read_line_from_git_path
c_func
(paren
r_const
r_char
op_star
id|filename
)paren
(brace
r_struct
id|strbuf
id|buf
op_assign
id|STRBUF_INIT
suffix:semicolon
id|FILE
op_star
id|fp
op_assign
id|fopen
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;%s&quot;
comma
id|filename
)paren
comma
l_string|&quot;r&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|fp
)paren
(brace
id|strbuf_release
c_func
(paren
op_amp
id|buf
)paren
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
id|strbuf_getline
c_func
(paren
op_amp
id|buf
comma
id|fp
comma
l_char|&squot;&bslash;n&squot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|fclose
c_func
(paren
id|fp
)paren
)paren
(brace
r_return
id|strbuf_detach
c_func
(paren
op_amp
id|buf
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
(brace
id|strbuf_release
c_func
(paren
op_amp
id|buf
)paren
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
)brace
DECL|function|split_commit_in_progress
r_static
r_int
id|split_commit_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|split_in_progress
op_assign
l_int|0
suffix:semicolon
r_char
op_star
id|head
op_assign
id|read_line_from_git_path
c_func
(paren
l_string|&quot;HEAD&quot;
)paren
suffix:semicolon
r_char
op_star
id|orig_head
op_assign
id|read_line_from_git_path
c_func
(paren
l_string|&quot;ORIG_HEAD&quot;
)paren
suffix:semicolon
r_char
op_star
id|rebase_amend
op_assign
id|read_line_from_git_path
c_func
(paren
l_string|&quot;rebase-merge/amend&quot;
)paren
suffix:semicolon
r_char
op_star
id|rebase_orig_head
op_assign
id|read_line_from_git_path
c_func
(paren
l_string|&quot;rebase-merge/orig-head&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|head
op_logical_or
op_logical_neg
id|orig_head
op_logical_or
op_logical_neg
id|rebase_amend
op_logical_or
op_logical_neg
id|rebase_orig_head
op_logical_or
op_logical_neg
id|s-&gt;branch
op_logical_or
id|strcmp
c_func
(paren
id|s-&gt;branch
comma
l_string|&quot;HEAD&quot;
)paren
)paren
r_return
id|split_in_progress
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|strcmp
c_func
(paren
id|rebase_amend
comma
id|rebase_orig_head
)paren
)paren
(brace
r_if
c_cond
(paren
id|strcmp
c_func
(paren
id|head
comma
id|rebase_amend
)paren
)paren
id|split_in_progress
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|strcmp
c_func
(paren
id|orig_head
comma
id|rebase_orig_head
)paren
)paren
(brace
id|split_in_progress
op_assign
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;amend
op_logical_and
op_logical_neg
id|s-&gt;nowarn
op_logical_and
op_logical_neg
id|s-&gt;workdir_dirty
)paren
id|split_in_progress
op_assign
l_int|0
suffix:semicolon
id|free
c_func
(paren
id|head
)paren
suffix:semicolon
id|free
c_func
(paren
id|orig_head
)paren
suffix:semicolon
id|free
c_func
(paren
id|rebase_amend
)paren
suffix:semicolon
id|free
c_func
(paren
id|rebase_orig_head
)paren
suffix:semicolon
r_return
id|split_in_progress
suffix:semicolon
)brace
DECL|function|show_rebase_in_progress
r_static
r_void
id|show_rebase_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
r_struct
id|stat
id|st
suffix:semicolon
r_if
c_cond
(paren
id|has_unmerged
c_func
(paren
id|s
)paren
)paren
(brace
r_if
c_cond
(paren
id|state-&gt;branch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently rebasing branch &squot;%s&squot; on &squot;%s&squot;.&quot;
)paren
comma
id|state-&gt;branch
comma
id|state-&gt;onto
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently rebasing.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (fix conflicts and then run &bslash;&quot;git rebase --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rebase --skip&bslash;&quot; to skip this patch)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rebase --abort&bslash;&quot; to check out the original branch)&quot;
)paren
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
id|state-&gt;rebase_in_progress
op_logical_or
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;MERGE_MSG&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
r_if
c_cond
(paren
id|state-&gt;branch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently rebasing branch &squot;%s&squot; on &squot;%s&squot;.&quot;
)paren
comma
id|state-&gt;branch
comma
id|state-&gt;onto
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently rebasing.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (all conflicts fixed: run &bslash;&quot;git rebase --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|split_commit_in_progress
c_func
(paren
id|s
)paren
)paren
(brace
r_if
c_cond
(paren
id|state-&gt;branch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently splitting a commit while rebasing branch &squot;%s&squot; on &squot;%s&squot;.&quot;
)paren
comma
id|state-&gt;branch
comma
id|state-&gt;onto
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently splitting a commit during a rebase.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (Once your working directory is clean, run &bslash;&quot;git rebase --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|state-&gt;branch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently editing a commit while rebasing branch &squot;%s&squot; on &squot;%s&squot;.&quot;
)paren
comma
id|state-&gt;branch
comma
id|state-&gt;onto
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently editing a commit during a rebase.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
op_logical_and
op_logical_neg
id|s-&gt;amend
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git commit --amend&bslash;&quot; to amend the current commit)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git rebase --continue&bslash;&quot; once you are satisfied with your changes)&quot;
)paren
)paren
suffix:semicolon
)brace
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|show_cherry_pick_in_progress
r_static
r_void
id|show_cherry_pick_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently cherry-picking commit %s.&quot;
)paren
comma
id|find_unique_abbrev
c_func
(paren
id|state-&gt;cherry_pick_head_sha1
comma
id|DEFAULT_ABBREV
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
(brace
r_if
c_cond
(paren
id|has_unmerged
c_func
(paren
id|s
)paren
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (fix conflicts and run &bslash;&quot;git cherry-pick --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (all conflicts fixed: run &bslash;&quot;git cherry-pick --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git cherry-pick --abort&bslash;&quot; to cancel the cherry-pick operation)&quot;
)paren
)paren
suffix:semicolon
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|show_revert_in_progress
r_static
r_void
id|show_revert_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently reverting commit %s.&quot;
)paren
comma
id|find_unique_abbrev
c_func
(paren
id|state-&gt;revert_head_sha1
comma
id|DEFAULT_ABBREV
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
(brace
r_if
c_cond
(paren
id|has_unmerged
c_func
(paren
id|s
)paren
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (fix conflicts and run &bslash;&quot;git revert --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (all conflicts fixed: run &bslash;&quot;git revert --continue&bslash;&quot;)&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git revert --abort&bslash;&quot; to cancel the revert operation)&quot;
)paren
)paren
suffix:semicolon
)brace
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
DECL|function|show_bisect_in_progress
r_static
r_void
id|show_bisect_in_progress
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
comma
r_const
r_char
op_star
id|color
)paren
(brace
r_if
c_cond
(paren
id|state-&gt;branch
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently bisecting, started from branch &squot;%s&squot;.&quot;
)paren
comma
id|state-&gt;branch
)paren
suffix:semicolon
r_else
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;You are currently bisecting.&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
comma
id|_
c_func
(paren
l_string|&quot;  (use &bslash;&quot;git bisect reset&bslash;&quot; to get back to the original branch)&quot;
)paren
)paren
suffix:semicolon
id|wt_status_print_trailer
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Extract branch information from rebase/bisect&n; */
DECL|function|read_and_strip_branch
r_static
r_char
op_star
id|read_and_strip_branch
c_func
(paren
r_const
r_char
op_star
id|path
)paren
(brace
r_struct
id|strbuf
id|sb
op_assign
id|STRBUF_INIT
suffix:semicolon
r_int
r_char
id|sha1
(braket
l_int|20
)braket
suffix:semicolon
r_if
c_cond
(paren
id|strbuf_read_file
c_func
(paren
op_amp
id|sb
comma
id|git_path
c_func
(paren
l_string|&quot;%s&quot;
comma
id|path
)paren
comma
l_int|0
)paren
op_le
l_int|0
)paren
r_goto
id|got_nothing
suffix:semicolon
r_while
c_loop
(paren
id|sb.len
op_logical_and
id|sb.buf
(braket
id|sb.len
l_int|1
)braket
op_eq
l_char|&squot;&bslash;n&squot;
)paren
id|strbuf_setlen
c_func
(paren
op_amp
id|sb
comma
id|sb.len
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|sb.len
)paren
r_goto
id|got_nothing
suffix:semicolon
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|sb.buf
comma
l_string|&quot;refs/heads/&quot;
)paren
)paren
id|strbuf_remove
c_func
(paren
op_amp
id|sb
comma
l_int|0
comma
id|strlen
c_func
(paren
l_string|&quot;refs/heads/&quot;
)paren
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|sb.buf
comma
l_string|&quot;refs/&quot;
)paren
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|get_sha1_hex
c_func
(paren
id|sb.buf
comma
id|sha1
)paren
)paren
(brace
r_const
r_char
op_star
id|abbrev
suffix:semicolon
id|abbrev
op_assign
id|find_unique_abbrev
c_func
(paren
id|sha1
comma
id|DEFAULT_ABBREV
)paren
suffix:semicolon
id|strbuf_reset
c_func
(paren
op_amp
id|sb
)paren
suffix:semicolon
id|strbuf_addstr
c_func
(paren
op_amp
id|sb
comma
id|abbrev
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|strcmp
c_func
(paren
id|sb.buf
comma
l_string|&quot;detached HEAD&quot;
)paren
)paren
multiline_comment|/* rebase */
r_goto
id|got_nothing
suffix:semicolon
r_else
multiline_comment|/* bisect */
suffix:semicolon
r_return
id|strbuf_detach
c_func
(paren
op_amp
id|sb
comma
l_int|NULL
)paren
suffix:semicolon
id|got_nothing
suffix:colon
id|strbuf_release
c_func
(paren
op_amp
id|sb
)paren
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
DECL|struct|grab_1st_switch_cbdata
r_struct
id|grab_1st_switch_cbdata
(brace
DECL|member|buf
r_struct
id|strbuf
id|buf
suffix:semicolon
DECL|member|nsha1
r_int
r_char
id|nsha1
(braket
l_int|20
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|grab_1st_switch
r_static
r_int
id|grab_1st_switch
c_func
(paren
r_int
r_char
op_star
id|osha1
comma
r_int
r_char
op_star
id|nsha1
comma
r_const
r_char
op_star
id|email
comma
r_int
r_int
id|timestamp
comma
r_int
id|tz
comma
r_const
r_char
op_star
id|message
comma
r_void
op_star
id|cb_data
)paren
(brace
r_struct
id|grab_1st_switch_cbdata
op_star
id|cb
op_assign
id|cb_data
suffix:semicolon
r_const
r_char
op_star
id|target
op_assign
l_int|NULL
comma
op_star
id|end
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|starts_with
c_func
(paren
id|message
comma
l_string|&quot;checkout: moving from &quot;
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|message
op_add_assign
id|strlen
c_func
(paren
l_string|&quot;checkout: moving from &quot;
)paren
suffix:semicolon
id|target
op_assign
id|strstr
c_func
(paren
id|message
comma
l_string|&quot; to &quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|target
)paren
r_return
l_int|0
suffix:semicolon
id|target
op_add_assign
id|strlen
c_func
(paren
l_string|&quot; to &quot;
)paren
suffix:semicolon
id|strbuf_reset
c_func
(paren
op_amp
id|cb-&gt;buf
)paren
suffix:semicolon
id|hashcpy
c_func
(paren
id|cb-&gt;nsha1
comma
id|nsha1
)paren
suffix:semicolon
r_for
c_loop
(paren
id|end
op_assign
id|target
suffix:semicolon
op_star
id|end
op_logical_and
op_star
id|end
op_ne
l_char|&squot;&bslash;n&squot;
suffix:semicolon
id|end
op_increment
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|memcmp
c_func
(paren
id|target
comma
l_string|&quot;HEAD&quot;
comma
id|end
id|target
)paren
)paren
(brace
multiline_comment|/* HEAD is relative. Resolve it to the right reflog entry. */
id|strbuf_addstr
c_func
(paren
op_amp
id|cb-&gt;buf
comma
id|find_unique_abbrev
c_func
(paren
id|nsha1
comma
id|DEFAULT_ABBREV
)paren
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
id|strbuf_add
c_func
(paren
op_amp
id|cb-&gt;buf
comma
id|target
comma
id|end
id|target
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|wt_status_get_detached_from
r_static
r_void
id|wt_status_get_detached_from
c_func
(paren
r_struct
id|wt_status_state
op_star
id|state
)paren
(brace
r_struct
id|grab_1st_switch_cbdata
id|cb
suffix:semicolon
r_struct
id|commit
op_star
id|commit
suffix:semicolon
r_int
r_char
id|sha1
(braket
l_int|20
)braket
suffix:semicolon
r_char
op_star
id|ref
op_assign
l_int|NULL
suffix:semicolon
id|strbuf_init
c_func
(paren
op_amp
id|cb.buf
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|for_each_reflog_ent_reverse
c_func
(paren
l_string|&quot;HEAD&quot;
comma
id|grab_1st_switch
comma
op_amp
id|cb
)paren
op_le
l_int|0
)paren
(brace
id|strbuf_release
c_func
(paren
op_amp
id|cb.buf
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
r_if
c_cond
(paren
id|dwim_ref
c_func
(paren
id|cb.buf.buf
comma
id|cb.buf.len
comma
id|sha1
comma
op_amp
id|ref
)paren
op_eq
l_int|1
op_logical_and
multiline_comment|/* sha1 is a commit? match without further lookup */
(paren
op_logical_neg
id|hashcmp
c_func
(paren
id|cb.nsha1
comma
id|sha1
)paren
op_logical_or
multiline_comment|/* perhaps sha1 is a tag, try to dereference to a commit */
(paren
(paren
id|commit
op_assign
id|lookup_commit_reference_gently
c_func
(paren
id|sha1
comma
l_int|1
)paren
)paren
op_ne
l_int|NULL
op_logical_and
op_logical_neg
id|hashcmp
c_func
(paren
id|cb.nsha1
comma
id|commit-&gt;object.sha1
)paren
)paren
)paren
)paren
(brace
r_int
id|ofs
suffix:semicolon
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|ref
comma
l_string|&quot;refs/tags/&quot;
)paren
)paren
id|ofs
op_assign
id|strlen
c_func
(paren
l_string|&quot;refs/tags/&quot;
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|ref
comma
l_string|&quot;refs/remotes/&quot;
)paren
)paren
id|ofs
op_assign
id|strlen
c_func
(paren
l_string|&quot;refs/remotes/&quot;
)paren
suffix:semicolon
r_else
id|ofs
op_assign
l_int|0
suffix:semicolon
id|state-&gt;detached_from
op_assign
id|xstrdup
c_func
(paren
id|ref
op_plus
id|ofs
)paren
suffix:semicolon
)brace
r_else
id|state-&gt;detached_from
op_assign
id|xstrdup
c_func
(paren
id|find_unique_abbrev
c_func
(paren
id|cb.nsha1
comma
id|DEFAULT_ABBREV
)paren
)paren
suffix:semicolon
id|hashcpy
c_func
(paren
id|state-&gt;detached_sha1
comma
id|cb.nsha1
)paren
suffix:semicolon
id|state-&gt;detached_at
op_assign
op_logical_neg
id|get_sha1
c_func
(paren
l_string|&quot;HEAD&quot;
comma
id|sha1
)paren
op_logical_and
op_logical_neg
id|hashcmp
c_func
(paren
id|sha1
comma
id|state-&gt;detached_sha1
)paren
suffix:semicolon
id|free
c_func
(paren
id|ref
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|cb.buf
)paren
suffix:semicolon
)brace
DECL|function|wt_status_get_state
r_void
id|wt_status_get_state
c_func
(paren
r_struct
id|wt_status_state
op_star
id|state
comma
r_int
id|get_detached_from
)paren
(brace
r_struct
id|stat
id|st
suffix:semicolon
r_int
r_char
id|sha1
(braket
l_int|20
)braket
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;MERGE_HEAD&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
id|state-&gt;merge_in_progress
op_assign
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;rebase-apply&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;rebase-apply/applying&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
id|state-&gt;am_in_progress
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;rebase-apply/patch&quot;
)paren
comma
op_amp
id|st
)paren
op_logical_and
op_logical_neg
id|st.st_size
)paren
id|state-&gt;am_empty_patch
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|state-&gt;rebase_in_progress
op_assign
l_int|1
suffix:semicolon
id|state-&gt;branch
op_assign
id|read_and_strip_branch
c_func
(paren
l_string|&quot;rebase-apply/head-name&quot;
)paren
suffix:semicolon
id|state-&gt;onto
op_assign
id|read_and_strip_branch
c_func
(paren
l_string|&quot;rebase-apply/onto&quot;
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;rebase-merge&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;rebase-merge/interactive&quot;
)paren
comma
op_amp
id|st
)paren
)paren
id|state-&gt;rebase_interactive_in_progress
op_assign
l_int|1
suffix:semicolon
r_else
id|state-&gt;rebase_in_progress
op_assign
l_int|1
suffix:semicolon
id|state-&gt;branch
op_assign
id|read_and_strip_branch
c_func
(paren
l_string|&quot;rebase-merge/head-name&quot;
)paren
suffix:semicolon
id|state-&gt;onto
op_assign
id|read_and_strip_branch
c_func
(paren
l_string|&quot;rebase-merge/onto&quot;
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;CHERRY_PICK_HEAD&quot;
)paren
comma
op_amp
id|st
)paren
op_logical_and
op_logical_neg
id|get_sha1
c_func
(paren
l_string|&quot;CHERRY_PICK_HEAD&quot;
comma
id|sha1
)paren
)paren
(brace
id|state-&gt;cherry_pick_in_progress
op_assign
l_int|1
suffix:semicolon
id|hashcpy
c_func
(paren
id|state-&gt;cherry_pick_head_sha1
comma
id|sha1
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;BISECT_LOG&quot;
)paren
comma
op_amp
id|st
)paren
)paren
(brace
id|state-&gt;bisect_in_progress
op_assign
l_int|1
suffix:semicolon
id|state-&gt;branch
op_assign
id|read_and_strip_branch
c_func
(paren
l_string|&quot;BISECT_START&quot;
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|stat
c_func
(paren
id|git_path
c_func
(paren
l_string|&quot;REVERT_HEAD&quot;
)paren
comma
op_amp
id|st
)paren
op_logical_and
op_logical_neg
id|get_sha1
c_func
(paren
l_string|&quot;REVERT_HEAD&quot;
comma
id|sha1
)paren
)paren
(brace
id|state-&gt;revert_in_progress
op_assign
l_int|1
suffix:semicolon
id|hashcpy
c_func
(paren
id|state-&gt;revert_head_sha1
comma
id|sha1
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|get_detached_from
)paren
id|wt_status_get_detached_from
c_func
(paren
id|state
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print_state
r_static
r_void
id|wt_status_print_state
c_func
(paren
r_struct
id|wt_status
op_star
id|s
comma
r_struct
id|wt_status_state
op_star
id|state
)paren
(brace
r_const
r_char
op_star
id|state_color
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;merge_in_progress
)paren
id|show_merge_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|state-&gt;am_in_progress
)paren
id|show_am_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|state-&gt;rebase_in_progress
op_logical_or
id|state-&gt;rebase_interactive_in_progress
)paren
id|show_rebase_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|state-&gt;cherry_pick_in_progress
)paren
id|show_cherry_pick_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|state-&gt;revert_in_progress
)paren
id|show_revert_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state-&gt;bisect_in_progress
)paren
id|show_bisect_in_progress
c_func
(paren
id|s
comma
id|state
comma
id|state_color
)paren
suffix:semicolon
)brace
DECL|function|wt_status_print
r_void
id|wt_status_print
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_const
r_char
op_star
id|branch_color
op_assign
id|color
c_func
(paren
id|WT_STATUS_ONBRANCH
comma
id|s
)paren
suffix:semicolon
r_const
r_char
op_star
id|branch_status_color
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
r_struct
id|wt_status_state
id|state
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|state
comma
l_int|0
comma
r_sizeof
(paren
id|state
)paren
)paren
suffix:semicolon
id|wt_status_get_state
c_func
(paren
op_amp
id|state
comma
id|s-&gt;branch
op_logical_and
op_logical_neg
id|strcmp
c_func
(paren
id|s-&gt;branch
comma
l_string|&quot;HEAD&quot;
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;branch
)paren
(brace
r_const
r_char
op_star
id|on_what
op_assign
id|_
c_func
(paren
l_string|&quot;On branch &quot;
)paren
suffix:semicolon
r_const
r_char
op_star
id|branch_name
op_assign
id|s-&gt;branch
suffix:semicolon
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|branch_name
comma
l_string|&quot;refs/heads/&quot;
)paren
)paren
id|branch_name
op_add_assign
l_int|11
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|strcmp
c_func
(paren
id|branch_name
comma
l_string|&quot;HEAD&quot;
)paren
)paren
(brace
id|branch_status_color
op_assign
id|color
c_func
(paren
id|WT_STATUS_NOBRANCH
comma
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
id|state.rebase_in_progress
op_logical_or
id|state.rebase_interactive_in_progress
)paren
(brace
id|on_what
op_assign
id|_
c_func
(paren
l_string|&quot;rebase in progress; onto &quot;
)paren
suffix:semicolon
id|branch_name
op_assign
id|state.onto
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|state.detached_from
)paren
(brace
id|branch_name
op_assign
id|state.detached_from
suffix:semicolon
r_if
c_cond
(paren
id|state.detached_at
)paren
id|on_what
op_assign
id|_
c_func
(paren
l_string|&quot;HEAD detached at &quot;
)paren
suffix:semicolon
r_else
id|on_what
op_assign
id|_
c_func
(paren
l_string|&quot;HEAD detached from &quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|branch_name
op_assign
l_string|&quot;&quot;
suffix:semicolon
id|on_what
op_assign
id|_
c_func
(paren
l_string|&quot;Not currently on any branch.&quot;
)paren
suffix:semicolon
)brace
)brace
id|status_printf
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
id|status_printf_more
c_func
(paren
id|s
comma
id|branch_status_color
comma
l_string|&quot;%s&quot;
comma
id|on_what
)paren
suffix:semicolon
id|status_printf_more
c_func
(paren
id|s
comma
id|branch_color
comma
l_string|&quot;%s&bslash;n&quot;
comma
id|branch_name
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;is_initial
)paren
id|wt_status_print_tracking
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
id|wt_status_print_state
c_func
(paren
id|s
comma
op_amp
id|state
)paren
suffix:semicolon
id|free
c_func
(paren
id|state.branch
)paren
suffix:semicolon
id|free
c_func
(paren
id|state.onto
)paren
suffix:semicolon
id|free
c_func
(paren
id|state.detached_from
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;is_initial
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
id|_
c_func
(paren
l_string|&quot;Initial commit&quot;
)paren
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
)brace
id|wt_status_print_updated
c_func
(paren
id|s
)paren
suffix:semicolon
id|wt_status_print_unmerged
c_func
(paren
id|s
)paren
suffix:semicolon
id|wt_status_print_changed
c_func
(paren
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;submodule_summary
op_logical_and
(paren
op_logical_neg
id|s-&gt;ignore_submodule_arg
op_logical_or
id|strcmp
c_func
(paren
id|s-&gt;ignore_submodule_arg
comma
l_string|&quot;all&quot;
)paren
)paren
)paren
(brace
id|wt_status_print_submodule_summary
c_func
(paren
id|s
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* staged */
id|wt_status_print_submodule_summary
c_func
(paren
id|s
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/* unstaged */
)brace
r_if
c_cond
(paren
id|s-&gt;show_untracked_files
)paren
(brace
id|wt_status_print_other
c_func
(paren
id|s
comma
op_amp
id|s-&gt;untracked
comma
id|_
c_func
(paren
l_string|&quot;Untracked files&quot;
)paren
comma
l_string|&quot;add&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;show_ignored_files
)paren
id|wt_status_print_other
c_func
(paren
id|s
comma
op_amp
id|s-&gt;ignored
comma
id|_
c_func
(paren
l_string|&quot;Ignored files&quot;
)paren
comma
l_string|&quot;add -f&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|advice_status_u_option
op_logical_and
l_int|2000
OL
id|s-&gt;untracked_in_ms
)paren
(brace
id|status_printf_ln
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
l_string|&quot;%s&quot;
comma
l_string|&quot;&quot;
)paren
suffix:semicolon
id|status_printf_ln
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
id|_
c_func
(paren
l_string|&quot;It took %.2f seconds to enumerate untracked files. &squot;status -uno&squot;&bslash;n&quot;
l_string|&quot;may speed it up, but you have to be careful not to forget to add&bslash;n&quot;
l_string|&quot;new files yourself (see &squot;git help status&squot;).&quot;
)paren
comma
id|s-&gt;untracked_in_ms
op_div
l_float|1000.0
)paren
suffix:semicolon
)brace
)brace
r_else
r_if
c_cond
(paren
id|s-&gt;commitable
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
id|_
c_func
(paren
l_string|&quot;Untracked files not listed%s&quot;
)paren
comma
id|s-&gt;hints
ques
c_cond
id|_
c_func
(paren
l_string|&quot; (use -u option to show untracked files)&quot;
)paren
suffix:colon
l_string|&quot;&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;verbose
)paren
id|wt_status_print_verbose
c_func
(paren
id|s
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;commitable
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;amend
)paren
id|status_printf_ln
c_func
(paren
id|s
comma
id|GIT_COLOR_NORMAL
comma
id|_
c_func
(paren
l_string|&quot;No changes&quot;
)paren
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|s-&gt;nowarn
)paren
suffix:semicolon
multiline_comment|/* nothing */
r_else
r_if
c_cond
(paren
id|s-&gt;workdir_dirty
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;no changes added to commit &quot;
l_string|&quot;(use &bslash;&quot;git add&bslash;&quot; and/or &bslash;&quot;git commit -a&bslash;&quot;)&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_else
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;no changes added to commit&bslash;n&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|s-&gt;untracked.nr
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing added to commit but untracked files &quot;
l_string|&quot;present (use &bslash;&quot;git add&bslash;&quot; to track)&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_else
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing added to commit but untracked files present&bslash;n&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|s-&gt;is_initial
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing to commit (create/copy files &quot;
l_string|&quot;and use &bslash;&quot;git add&bslash;&quot; to track)&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_else
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing to commit&bslash;n&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;show_untracked_files
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;hints
)paren
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing to commit (use -u to show untracked files)&bslash;n&quot;
)paren
)paren
suffix:semicolon
r_else
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing to commit&bslash;n&quot;
)paren
)paren
suffix:semicolon
)brace
r_else
id|printf
c_func
(paren
id|_
c_func
(paren
l_string|&quot;nothing to commit, working directory clean&bslash;n&quot;
)paren
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_shortstatus_unmerged
r_static
r_void
id|wt_shortstatus_unmerged
c_func
(paren
r_struct
id|string_list_item
op_star
id|it
comma
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_const
r_char
op_star
id|how
op_assign
l_string|&quot;??&quot;
suffix:semicolon
r_switch
c_cond
(paren
id|d-&gt;stagemask
)paren
(brace
r_case
l_int|1
suffix:colon
id|how
op_assign
l_string|&quot;DD&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* both deleted */
r_case
l_int|2
suffix:colon
id|how
op_assign
l_string|&quot;AU&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* added by us */
r_case
l_int|3
suffix:colon
id|how
op_assign
l_string|&quot;UD&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* deleted by them */
r_case
l_int|4
suffix:colon
id|how
op_assign
l_string|&quot;UA&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* added by them */
r_case
l_int|5
suffix:colon
id|how
op_assign
l_string|&quot;DU&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* deleted by us */
r_case
l_int|6
suffix:colon
id|how
op_assign
l_string|&quot;AA&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* both added */
r_case
l_int|7
suffix:colon
id|how
op_assign
l_string|&quot;UU&quot;
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/* both modified */
)brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_UNMERGED
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
id|how
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;null_termination
)paren
(brace
id|fprintf
c_func
(paren
id|stdout
comma
l_string|&quot; %s%c&quot;
comma
id|it-&gt;string
comma
l_int|0
)paren
suffix:semicolon
)brace
r_else
(brace
r_struct
id|strbuf
id|onebuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_const
r_char
op_star
id|one
suffix:semicolon
id|one
op_assign
id|quote_path
c_func
(paren
id|it-&gt;string
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot; %s&bslash;n&quot;
comma
id|one
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_shortstatus_status
r_static
r_void
id|wt_shortstatus_status
c_func
(paren
r_struct
id|string_list_item
op_star
id|it
comma
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;index_status
)paren
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_UPDATED
comma
id|s
)paren
comma
l_string|&quot;%c&quot;
comma
id|d-&gt;index_status
)paren
suffix:semicolon
r_else
id|putchar
c_func
(paren
l_char|&squot; &squot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;worktree_status
)paren
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_CHANGED
comma
id|s
)paren
comma
l_string|&quot;%c&quot;
comma
id|d-&gt;worktree_status
)paren
suffix:semicolon
r_else
id|putchar
c_func
(paren
l_char|&squot; &squot;
)paren
suffix:semicolon
id|putchar
c_func
(paren
l_char|&squot; &squot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;null_termination
)paren
(brace
id|fprintf
c_func
(paren
id|stdout
comma
l_string|&quot;%s%c&quot;
comma
id|it-&gt;string
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;head_path
)paren
id|fprintf
c_func
(paren
id|stdout
comma
l_string|&quot;%s%c&quot;
comma
id|d-&gt;head_path
comma
l_int|0
)paren
suffix:semicolon
)brace
r_else
(brace
r_struct
id|strbuf
id|onebuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_const
r_char
op_star
id|one
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;head_path
)paren
(brace
id|one
op_assign
id|quote_path
c_func
(paren
id|d-&gt;head_path
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|one
op_ne
l_char|&squot;&quot;&squot;
op_logical_and
id|strchr
c_func
(paren
id|one
comma
l_char|&squot; &squot;
)paren
op_ne
l_int|NULL
)paren
(brace
id|putchar
c_func
(paren
l_char|&squot;&quot;&squot;
)paren
suffix:semicolon
id|strbuf_addch
c_func
(paren
op_amp
id|onebuf
comma
l_char|&squot;&quot;&squot;
)paren
suffix:semicolon
id|one
op_assign
id|onebuf.buf
suffix:semicolon
)brace
id|printf
c_func
(paren
l_string|&quot;%s -&gt; &quot;
comma
id|one
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
)brace
id|one
op_assign
id|quote_path
c_func
(paren
id|it-&gt;string
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|one
op_ne
l_char|&squot;&quot;&squot;
op_logical_and
id|strchr
c_func
(paren
id|one
comma
l_char|&squot; &squot;
)paren
op_ne
l_int|NULL
)paren
(brace
id|putchar
c_func
(paren
l_char|&squot;&quot;&squot;
)paren
suffix:semicolon
id|strbuf_addch
c_func
(paren
op_amp
id|onebuf
comma
l_char|&squot;&quot;&squot;
)paren
suffix:semicolon
id|one
op_assign
id|onebuf.buf
suffix:semicolon
)brace
id|printf
c_func
(paren
l_string|&quot;%s&bslash;n&quot;
comma
id|one
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_shortstatus_other
r_static
r_void
id|wt_shortstatus_other
c_func
(paren
r_struct
id|string_list_item
op_star
id|it
comma
r_struct
id|wt_status
op_star
id|s
comma
r_const
r_char
op_star
id|sign
)paren
(brace
r_if
c_cond
(paren
id|s-&gt;null_termination
)paren
(brace
id|fprintf
c_func
(paren
id|stdout
comma
l_string|&quot;%s %s%c&quot;
comma
id|sign
comma
id|it-&gt;string
comma
l_int|0
)paren
suffix:semicolon
)brace
r_else
(brace
r_struct
id|strbuf
id|onebuf
op_assign
id|STRBUF_INIT
suffix:semicolon
r_const
r_char
op_star
id|one
suffix:semicolon
id|one
op_assign
id|quote_path
c_func
(paren
id|it-&gt;string
comma
id|s-&gt;prefix
comma
op_amp
id|onebuf
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_UNTRACKED
comma
id|s
)paren
comma
l_string|&quot;%s&quot;
comma
id|sign
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot; %s&bslash;n&quot;
comma
id|one
)paren
suffix:semicolon
id|strbuf_release
c_func
(paren
op_amp
id|onebuf
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_shortstatus_print_tracking
r_static
r_void
id|wt_shortstatus_print_tracking
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_struct
id|branch
op_star
id|branch
suffix:semicolon
r_const
r_char
op_star
id|header_color
op_assign
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
suffix:semicolon
r_const
r_char
op_star
id|branch_color_local
op_assign
id|color
c_func
(paren
id|WT_STATUS_LOCAL_BRANCH
comma
id|s
)paren
suffix:semicolon
r_const
r_char
op_star
id|branch_color_remote
op_assign
id|color
c_func
(paren
id|WT_STATUS_REMOTE_BRANCH
comma
id|s
)paren
suffix:semicolon
r_const
r_char
op_star
id|base
suffix:semicolon
r_const
r_char
op_star
id|branch_name
suffix:semicolon
r_int
id|num_ours
comma
id|num_theirs
suffix:semicolon
r_int
id|upstream_is_gone
op_assign
l_int|0
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|color
c_func
(paren
id|WT_STATUS_HEADER
comma
id|s
)paren
comma
l_string|&quot;## &quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;branch
)paren
r_return
suffix:semicolon
id|branch_name
op_assign
id|s-&gt;branch
suffix:semicolon
r_if
c_cond
(paren
id|starts_with
c_func
(paren
id|branch_name
comma
l_string|&quot;refs/heads/&quot;
)paren
)paren
id|branch_name
op_add_assign
l_int|11
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|strcmp
c_func
(paren
id|branch_name
comma
l_string|&quot;HEAD&quot;
)paren
)paren
(brace
id|branch_name
op_assign
id|_
c_func
(paren
l_string|&quot;HEAD (no branch)&quot;
)paren
suffix:semicolon
id|branch_color_local
op_assign
id|color
c_func
(paren
id|WT_STATUS_NOBRANCH
comma
id|s
)paren
suffix:semicolon
)brace
id|branch
op_assign
id|branch_get
c_func
(paren
id|s-&gt;branch
op_plus
l_int|11
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;is_initial
)paren
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
id|_
c_func
(paren
l_string|&quot;Initial commit on &quot;
)paren
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_local
comma
l_string|&quot;%s&quot;
comma
id|branch_name
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|stat_tracking_info
c_func
(paren
id|branch
comma
op_amp
id|num_ours
comma
op_amp
id|num_theirs
)paren
)paren
(brace
r_case
l_int|0
suffix:colon
multiline_comment|/* no base */
id|fputc
c_func
(paren
id|s-&gt;null_termination
ques
c_cond
l_char|&squot;&bslash;0&squot;
suffix:colon
l_char|&squot;&bslash;n&squot;
comma
id|s-&gt;fp
)paren
suffix:semicolon
r_return
suffix:semicolon
r_case
l_int|1
suffix:colon
multiline_comment|/* with &quot;gone&quot; base */
id|upstream_is_gone
op_assign
l_int|1
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
multiline_comment|/* with base */
r_break
suffix:semicolon
)brace
id|base
op_assign
id|branch-&gt;merge
(braket
l_int|0
)braket
op_member_access_from_pointer
id|dst
suffix:semicolon
id|base
op_assign
id|shorten_unambiguous_ref
c_func
(paren
id|base
comma
l_int|0
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
l_string|&quot;...&quot;
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_remote
comma
l_string|&quot;%s&quot;
comma
id|base
)paren
suffix:semicolon
id|free
c_func
(paren
(paren
r_char
op_star
)paren
id|base
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|upstream_is_gone
op_logical_and
op_logical_neg
id|num_ours
op_logical_and
op_logical_neg
id|num_theirs
)paren
(brace
id|fputc
c_func
(paren
id|s-&gt;null_termination
ques
c_cond
l_char|&squot;&bslash;0&squot;
suffix:colon
l_char|&squot;&bslash;n&squot;
comma
id|s-&gt;fp
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
DECL|macro|LABEL
mdefine_line|#define LABEL(string) (s-&gt;no_gettext ? (string) : _(string))
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
l_string|&quot; [&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|upstream_is_gone
)paren
(brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
id|LABEL
c_func
(paren
id|N_
c_func
(paren
l_string|&quot;gone&quot;
)paren
)paren
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|num_ours
)paren
(brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
id|LABEL
c_func
(paren
id|N_
c_func
(paren
l_string|&quot;behind &quot;
)paren
)paren
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_remote
comma
l_string|&quot;%d&quot;
comma
id|num_theirs
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|num_theirs
)paren
(brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
id|LABEL
c_func
(paren
id|N_
c_func
(paren
(paren
l_string|&quot;ahead &quot;
)paren
)paren
)paren
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_local
comma
l_string|&quot;%d&quot;
comma
id|num_ours
)paren
suffix:semicolon
)brace
r_else
(brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
id|LABEL
c_func
(paren
id|N_
c_func
(paren
(paren
l_string|&quot;ahead &quot;
)paren
)paren
)paren
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_local
comma
l_string|&quot;%d&quot;
comma
id|num_ours
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
l_string|&quot;, %s&quot;
comma
id|LABEL
c_func
(paren
id|N_
c_func
(paren
l_string|&quot;behind &quot;
)paren
)paren
)paren
suffix:semicolon
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|branch_color_remote
comma
l_string|&quot;%d&quot;
comma
id|num_theirs
)paren
suffix:semicolon
)brace
id|color_fprintf
c_func
(paren
id|s-&gt;fp
comma
id|header_color
comma
l_string|&quot;]&quot;
)paren
suffix:semicolon
id|fputc
c_func
(paren
id|s-&gt;null_termination
ques
c_cond
l_char|&squot;&bslash;0&squot;
suffix:colon
l_char|&squot;&bslash;n&squot;
comma
id|s-&gt;fp
)paren
suffix:semicolon
)brace
DECL|function|wt_shortstatus_print
r_void
id|wt_shortstatus_print
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;show_branch
)paren
id|wt_shortstatus_print_tracking
c_func
(paren
id|s
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;change.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|wt_status_change_data
op_star
id|d
suffix:semicolon
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;change.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|d
op_assign
id|it-&gt;util
suffix:semicolon
r_if
c_cond
(paren
id|d-&gt;stagemask
)paren
id|wt_shortstatus_unmerged
c_func
(paren
id|it
comma
id|s
)paren
suffix:semicolon
r_else
id|wt_shortstatus_status
c_func
(paren
id|it
comma
id|s
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;untracked.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;untracked.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|wt_shortstatus_other
c_func
(paren
id|it
comma
id|s
comma
l_string|&quot;??&quot;
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|s-&gt;ignored.nr
suffix:semicolon
id|i
op_increment
)paren
(brace
r_struct
id|string_list_item
op_star
id|it
suffix:semicolon
id|it
op_assign
op_amp
(paren
id|s-&gt;ignored.items
(braket
id|i
)braket
)paren
suffix:semicolon
id|wt_shortstatus_other
c_func
(paren
id|it
comma
id|s
comma
l_string|&quot;!!&quot;
)paren
suffix:semicolon
)brace
)brace
DECL|function|wt_porcelain_print
r_void
id|wt_porcelain_print
c_func
(paren
r_struct
id|wt_status
op_star
id|s
)paren
(brace
id|s-&gt;use_color
op_assign
l_int|0
suffix:semicolon
id|s-&gt;relative_paths
op_assign
l_int|0
suffix:semicolon
id|s-&gt;prefix
op_assign
l_int|NULL
suffix:semicolon
id|s-&gt;no_gettext
op_assign
l_int|1
suffix:semicolon
id|wt_shortstatus_print
c_func
(paren
id|s
)paren
suffix:semicolon
)brace
eof
