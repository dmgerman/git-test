macro_line|#include &quot;builtin.h&quot;
macro_line|#include &quot;cache.h&quot;
macro_line|#include &quot;refs.h&quot;
macro_line|#include &quot;object.h&quot;
macro_line|#include &quot;parse-options.h&quot;
macro_line|#include &quot;ref-filter.h&quot;
DECL|variable|for_each_ref_usage
r_static
r_char
r_const
op_star
r_const
id|for_each_ref_usage
(braket
)braket
op_assign
(brace
id|N_
c_func
(paren
l_string|&quot;git for-each-ref [&lt;options&gt;] [&lt;pattern&gt;]&quot;
)paren
comma
l_int|NULL
)brace
suffix:semicolon
DECL|function|cmd_for_each_ref
r_int
id|cmd_for_each_ref
c_func
(paren
r_int
id|argc
comma
r_const
r_char
op_star
op_star
id|argv
comma
r_const
r_char
op_star
id|prefix
)paren
(brace
r_int
id|i
suffix:semicolon
r_const
r_char
op_star
id|format
op_assign
l_string|&quot;%(objectname) %(objecttype)&bslash;t%(refname)&quot;
suffix:semicolon
r_struct
id|ref_sorting
op_star
id|sorting
op_assign
l_int|NULL
comma
op_star
op_star
id|sorting_tail
op_assign
op_amp
id|sorting
suffix:semicolon
r_int
id|maxcount
op_assign
l_int|0
comma
id|quote_style
op_assign
l_int|0
suffix:semicolon
r_struct
id|ref_filter_cbdata
id|ref_cbdata
suffix:semicolon
r_struct
id|option
id|opts
(braket
)braket
op_assign
(brace
id|OPT_BIT
c_func
(paren
l_char|&squot;s&squot;
comma
l_string|&quot;shell&quot;
comma
op_amp
id|quote_style
comma
id|N_
c_func
(paren
l_string|&quot;quote placeholders suitably for shells&quot;
)paren
comma
id|QUOTE_SHELL
)paren
comma
id|OPT_BIT
c_func
(paren
l_char|&squot;p&squot;
comma
l_string|&quot;perl&quot;
comma
op_amp
id|quote_style
comma
id|N_
c_func
(paren
l_string|&quot;quote placeholders suitably for perl&quot;
)paren
comma
id|QUOTE_PERL
)paren
comma
id|OPT_BIT
c_func
(paren
l_int|0
comma
l_string|&quot;python&quot;
comma
op_amp
id|quote_style
comma
id|N_
c_func
(paren
l_string|&quot;quote placeholders suitably for python&quot;
)paren
comma
id|QUOTE_PYTHON
)paren
comma
id|OPT_BIT
c_func
(paren
l_int|0
comma
l_string|&quot;tcl&quot;
comma
op_amp
id|quote_style
comma
id|N_
c_func
(paren
l_string|&quot;quote placeholders suitably for Tcl&quot;
)paren
comma
id|QUOTE_TCL
)paren
comma
id|OPT_GROUP
c_func
(paren
l_string|&quot;&quot;
)paren
comma
id|OPT_INTEGER
c_func
(paren
l_int|0
comma
l_string|&quot;count&quot;
comma
op_amp
id|maxcount
comma
id|N_
c_func
(paren
l_string|&quot;show only &lt;n&gt; matched refs&quot;
)paren
)paren
comma
id|OPT_STRING
c_func
(paren
l_int|0
comma
l_string|&quot;format&quot;
comma
op_amp
id|format
comma
id|N_
c_func
(paren
l_string|&quot;format&quot;
)paren
comma
id|N_
c_func
(paren
l_string|&quot;format to use for the output&quot;
)paren
)paren
comma
id|OPT_CALLBACK
c_func
(paren
l_int|0
comma
l_string|&quot;sort&quot;
comma
id|sorting_tail
comma
id|N_
c_func
(paren
l_string|&quot;key&quot;
)paren
comma
id|N_
c_func
(paren
l_string|&quot;field name to sort on&quot;
)paren
comma
op_amp
id|parse_opt_ref_sorting
)paren
comma
id|OPT_END
c_func
(paren
)paren
comma
)brace
suffix:semicolon
id|parse_options
c_func
(paren
id|argc
comma
id|argv
comma
id|prefix
comma
id|opts
comma
id|for_each_ref_usage
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|maxcount
OL
l_int|0
)paren
(brace
id|error
c_func
(paren
l_string|&quot;invalid --count argument: `%d&squot;&quot;
comma
id|maxcount
)paren
suffix:semicolon
id|usage_with_options
c_func
(paren
id|for_each_ref_usage
comma
id|opts
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|HAS_MULTI_BITS
c_func
(paren
id|quote_style
)paren
)paren
(brace
id|error
c_func
(paren
l_string|&quot;more than one quoting style?&quot;
)paren
suffix:semicolon
id|usage_with_options
c_func
(paren
id|for_each_ref_usage
comma
id|opts
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|verify_ref_format
c_func
(paren
id|format
)paren
)paren
id|usage_with_options
c_func
(paren
id|for_each_ref_usage
comma
id|opts
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|sorting
)paren
id|sorting
op_assign
id|ref_default_sorting
c_func
(paren
)paren
suffix:semicolon
multiline_comment|/* for warn_ambiguous_refs */
id|git_config
c_func
(paren
id|git_default_config
comma
l_int|NULL
)paren
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|ref_cbdata
comma
l_int|0
comma
r_sizeof
(paren
id|ref_cbdata
)paren
)paren
suffix:semicolon
id|ref_cbdata.filter.name_patterns
op_assign
id|argv
suffix:semicolon
id|for_each_rawref
c_func
(paren
id|ref_filter_handler
comma
op_amp
id|ref_cbdata
)paren
suffix:semicolon
id|ref_array_sort
c_func
(paren
id|sorting
comma
op_amp
id|ref_cbdata.array
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|maxcount
op_logical_or
id|ref_cbdata.array.nr
OL
id|maxcount
)paren
id|maxcount
op_assign
id|ref_cbdata.array.nr
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|maxcount
suffix:semicolon
id|i
op_increment
)paren
id|show_ref_array_item
c_func
(paren
id|ref_cbdata.array.items
(braket
id|i
)braket
comma
id|format
comma
id|quote_style
)paren
suffix:semicolon
id|ref_array_clear
c_func
(paren
op_amp
id|ref_cbdata.array
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
eof
