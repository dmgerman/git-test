multiline_comment|/*&n; * Implementation of git-merge-ours.sh as builtin&n; *&n; * Copyright (c) 2007 Thomas Harning Jr&n; * Original:&n; * Original Copyright (c) 2005 Junio C Hamano&n; *&n; * Pretend we resolved the heads, but declare our tree trumps everybody else.&n; */
macro_line|#include &quot;git-compat-util.h&quot;
macro_line|#include &quot;builtin.h&quot;
DECL|variable|diff_index_args
r_static
r_const
r_char
op_star
id|diff_index_args
(braket
)braket
op_assign
(brace
l_string|&quot;diff-index&quot;
comma
l_string|&quot;--quiet&quot;
comma
l_string|&quot;--cached&quot;
comma
l_string|&quot;HEAD&quot;
comma
l_string|&quot;--&quot;
comma
l_int|NULL
)brace
suffix:semicolon
DECL|macro|NARGS
mdefine_line|#define NARGS (ARRAY_SIZE(diff_index_args) - 1)
DECL|function|cmd_merge_ours
r_int
id|cmd_merge_ours
c_func
(paren
r_int
id|argc
comma
r_const
r_char
op_star
op_star
id|argv
comma
r_const
r_char
op_star
id|prefix
)paren
(brace
multiline_comment|/*&n;&t; * We need to exit with 2 if the index does not match our HEAD tree,&n;&t; * because the current index is what we will be committing as the&n;&t; * merge result.&n;&t; */
r_if
c_cond
(paren
id|cmd_diff_index
c_func
(paren
id|NARGS
comma
id|diff_index_args
comma
id|prefix
)paren
)paren
m_exit
(paren
l_int|2
)paren
suffix:semicolon
m_exit
(paren
l_int|0
)paren
suffix:semicolon
)brace
eof
