macro_line|#include &quot;git-compat-util.h&quot;
macro_line|#include &quot;varint.h&quot;
DECL|function|decode_varint
r_uintmax
id|decode_varint
c_func
(paren
r_const
r_int
r_char
op_star
op_star
id|bufp
)paren
(brace
r_const
r_int
r_char
op_star
id|buf
op_assign
op_star
id|bufp
suffix:semicolon
r_int
r_char
id|c
op_assign
op_star
id|buf
op_increment
suffix:semicolon
r_uintmax
id|val
op_assign
id|c
op_amp
l_int|127
suffix:semicolon
r_while
c_loop
(paren
id|c
op_amp
l_int|128
)paren
(brace
id|val
op_add_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|val
op_logical_or
id|MSB
c_func
(paren
id|val
comma
l_int|7
)paren
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/* overflow */
id|c
op_assign
op_star
id|buf
op_increment
suffix:semicolon
id|val
op_assign
(paren
id|val
op_lshift
l_int|7
)paren
op_plus
(paren
id|c
op_amp
l_int|127
)paren
suffix:semicolon
)brace
op_star
id|bufp
op_assign
id|buf
suffix:semicolon
r_return
id|val
suffix:semicolon
)brace
DECL|function|encode_varint
r_int
id|encode_varint
c_func
(paren
r_uintmax
id|value
comma
r_int
r_char
op_star
id|buf
)paren
(brace
r_int
r_char
id|varint
(braket
l_int|16
)braket
suffix:semicolon
r_int
id|pos
op_assign
r_sizeof
(paren
id|varint
)paren
l_int|1
suffix:semicolon
id|varint
(braket
id|pos
)braket
op_assign
id|value
op_amp
l_int|127
suffix:semicolon
r_while
c_loop
(paren
id|value
op_rshift_assign
l_int|7
)paren
id|varint
(braket
op_decrement
id|pos
)braket
op_assign
l_int|128
op_or
(paren
op_decrement
id|value
op_amp
l_int|127
)paren
suffix:semicolon
r_if
c_cond
(paren
id|buf
)paren
id|memcpy
c_func
(paren
id|buf
comma
id|varint
op_plus
id|pos
comma
r_sizeof
(paren
id|varint
)paren
id|pos
)paren
suffix:semicolon
r_return
r_sizeof
(paren
id|varint
)paren
id|pos
suffix:semicolon
)brace
eof
