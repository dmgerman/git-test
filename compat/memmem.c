macro_line|#include &quot;../git-compat-util.h&quot;
DECL|function|gitmemmem
r_void
op_star
id|gitmemmem
c_func
(paren
r_const
r_void
op_star
id|haystack
comma
r_int
id|haystack_len
comma
r_const
r_void
op_star
id|needle
comma
r_int
id|needle_len
)paren
(brace
r_const
r_char
op_star
id|begin
op_assign
id|haystack
suffix:semicolon
r_const
r_char
op_star
id|last_possible
op_assign
id|begin
op_plus
id|haystack_len
id|needle_len
suffix:semicolon
multiline_comment|/*&n;&t; * The first occurrence of the empty string is deemed to occur at&n;&t; * the beginning of the string.&n;&t; */
r_if
c_cond
(paren
id|needle_len
op_eq
l_int|0
)paren
r_return
(paren
r_void
op_star
)paren
id|begin
suffix:semicolon
multiline_comment|/*&n;&t; * Sanity check, otherwise the loop might search through the whole&n;&t; * memory.&n;&t; */
r_if
c_cond
(paren
id|haystack_len
OL
id|needle_len
)paren
r_return
l_int|NULL
suffix:semicolon
r_for
c_loop
(paren
suffix:semicolon
id|begin
op_le
id|last_possible
suffix:semicolon
id|begin
op_increment
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|memcmp
c_func
(paren
id|begin
comma
id|needle
comma
id|needle_len
)paren
)paren
r_return
(paren
r_void
op_star
)paren
id|begin
suffix:semicolon
)brace
r_return
l_int|NULL
suffix:semicolon
)brace
eof
